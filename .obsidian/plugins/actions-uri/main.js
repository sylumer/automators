/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var Dl=Object.create;var In=Object.defineProperty;var yl=Object.getOwnPropertyDescriptor;var gl=Object.getOwnPropertyNames;var Fl=Object.getPrototypeOf,wl=Object.prototype.hasOwnProperty;var za=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),vl=(t,e)=>{for(var r in e)In(t,r,{get:e[r],enumerable:!0})},Va=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of gl(e))!wl.call(t,s)&&s!==r&&In(t,s,{get:()=>e[s],enumerable:!(n=yl(e,s))||n.enumerable});return t};var $a=(t,e,r)=>(r=t!=null?Dl(Fl(t)):{},Va(e||!t||!t.__esModule?In(r,"default",{value:t,enumerable:!0}):r,t)),bl=t=>Va(In({},"__esModule",{value:!0}),t);var Oi=za(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});var oe=require("obsidian"),Is="YYYY-MM-DD",Bs="gggg-[W]ww",Fi="YYYY-MM",wi="YYYY-[Q]Q",vi="YYYY";function tn(t){let e=window.app.plugins.getPlugin("periodic-notes");return e&&e.settings?.[t]?.enabled}function rn(){try{let{internalPlugins:t,plugins:e}=window.app;if(tn("daily")){let{format:a,folder:i,template:o}=e.getPlugin("periodic-notes")?.settings?.daily||{};return{format:a||Is,folder:i?.trim()||"",template:o?.trim()||""}}let{folder:r,format:n,template:s}=t.getPluginById("daily-notes")?.instance?.options||{};return{format:n||Is,folder:r?.trim()||"",template:s?.trim()||""}}catch(t){console.info("No custom daily note settings found!",t)}}function nn(){try{let t=window.app.plugins,e=t.getPlugin("calendar")?.options,r=t.getPlugin("periodic-notes")?.settings?.weekly;if(tn("weekly"))return{format:r.format||Bs,folder:r.folder?.trim()||"",template:r.template?.trim()||""};let n=e||{};return{format:n.weeklyNoteFormat||Bs,folder:n.weeklyNoteFolder?.trim()||"",template:n.weeklyNoteTemplate?.trim()||""}}catch(t){console.info("No custom weekly note settings found!",t)}}function sn(){let t=window.app.plugins;try{let e=tn("monthly")&&t.getPlugin("periodic-notes")?.settings?.monthly||{};return{format:e.format||Fi,folder:e.folder?.trim()||"",template:e.template?.trim()||""}}catch(e){console.info("No custom monthly note settings found!",e)}}function an(){let t=window.app.plugins;try{let e=tn("quarterly")&&t.getPlugin("periodic-notes")?.settings?.quarterly||{};return{format:e.format||wi,folder:e.folder?.trim()||"",template:e.template?.trim()||""}}catch(e){console.info("No custom quarterly note settings found!",e)}}function on(){let t=window.app.plugins;try{let e=tn("yearly")&&t.getPlugin("periodic-notes")?.settings?.yearly||{};return{format:e.format||vi,folder:e.folder?.trim()||"",template:e.template?.trim()||""}}catch(e){console.info("No custom yearly note settings found!",e)}}function bi(...t){let e=[];for(let n=0,s=t.length;n<s;n++)e=e.concat(t[n].split("/"));let r=[];for(let n=0,s=e.length;n<s;n++){let a=e[n];!a||a==="."||r.push(a)}return e[0]===""&&r.unshift(""),r.join("/")}function Oc(t){let e=t.substring(t.lastIndexOf("/")+1);return e.lastIndexOf(".")!=-1&&(e=e.substring(0,e.lastIndexOf("."))),e}async function Ac(t){let e=t.replace(/\\/g,"/").split("/");if(e.pop(),e.length){let r=bi(...e);window.app.vault.getAbstractFileByPath(r)||await window.app.vault.createFolder(r)}}async function un(t,e){e.endsWith(".md")||(e+=".md");let r=oe.normalizePath(bi(t,e));return await Ac(r),r}async function Tr(t){let{metadataCache:e,vault:r}=window.app,n=oe.normalizePath(t);if(n==="/")return Promise.resolve(["",null]);try{let s=e.getFirstLinkpathDest(n,""),a=await r.cachedRead(s),i=window.app.foldManager.load(s);return[a,i]}catch(s){return console.error(`Failed to read the daily note template '${n}'`,s),new oe.Notice("Failed to read the daily note template"),["",null]}}function Ye(t,e="day"){let r=t.clone().startOf(e).format();return`${e}-${r}`}function Pi(t){return t.replace(/\[[^\]]*\]/g,"")}function Rc(t,e){if(e==="week"){let r=Pi(t);return/w{1,2}/i.test(r)&&(/M{1,4}/.test(r)||/D{1,4}/.test(r))}return!1}function Sr(t,e){return _i(t.basename,e)}function Mc(t,e){return _i(Oc(t),e)}function _i(t,e){let n={day:rn,week:nn,month:sn,quarter:an,year:on}[e]().format.split("/").pop(),s=window.moment(t,n,!0);if(!s.isValid())return null;if(Rc(n,e)&&e==="week"){let a=Pi(n);if(/w{1,2}/i.test(a))return window.moment(t,n.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return s}var Ls=class extends Error{};async function Ei(t){let e=window.app,{vault:r}=e,n=window.moment,{template:s,format:a,folder:i}=rn(),[o,l]=await Tr(s),c=t.format(a),m=await un(i,c);try{let w=await r.create(m,o.replace(/{{\s*date\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,n().format("HH:mm")).replace(/{{\s*title\s*}}/gi,c).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(F,g,x,L,j,Q)=>{let Pe=n(),_e=t.clone().set({hour:Pe.get("hour"),minute:Pe.get("minute"),second:Pe.get("second")});return x&&_e.add(parseInt(L,10),j),Q?_e.format(Q.substring(1).trim()):_e.format(a)}).replace(/{{\s*yesterday\s*}}/gi,t.clone().subtract(1,"day").format(a)).replace(/{{\s*tomorrow\s*}}/gi,t.clone().add(1,"d").format(a)));return e.foldManager.save(w,l),w}catch(w){console.error(`Failed to create file: '${m}'`,w),new oe.Notice("Unable to create new file.")}}function Ic(t,e){return e[Ye(t,"day")]??null}function Bc(){let{vault:t}=window.app,{folder:e}=rn(),r=t.getAbstractFileByPath(oe.normalizePath(e));if(!r)throw new Ls("Failed to find daily notes folder");let n={};return oe.Vault.recurseChildren(r,s=>{if(s instanceof oe.TFile){let a=Sr(s,"day");if(a){let i=Ye(a,"day");n[i]=s}}}),n}var Hs=class extends Error{};function Lc(){let{moment:t}=window,e=t.localeData()._week.dow,r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;e;)r.push(r.shift()),e--;return r}function Hc(t){return Lc().indexOf(t.toLowerCase())}async function xi(t){let{vault:e}=window.app,{template:r,format:n,folder:s}=nn(),[a,i]=await Tr(r),o=t.format(n),l=await un(s,o);try{let c=await e.create(l,a.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,w,F,g,x,L)=>{let j=window.moment(),Q=t.clone().set({hour:j.get("hour"),minute:j.get("minute"),second:j.get("second")});return F&&Q.add(parseInt(g,10),x),L?Q.format(L.substring(1).trim()):Q.format(n)}).replace(/{{\s*title\s*}}/gi,o).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(m,w,F)=>{let g=Hc(w);return t.weekday(g).format(F.trim())}));return window.app.foldManager.save(c,i),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new oe.Notice("Unable to create new file.")}}function jc(t,e){return e[Ye(t,"week")]??null}function zc(){let t={};if(!Ti())return t;let{vault:e}=window.app,{folder:r}=nn(),n=e.getAbstractFileByPath(oe.normalizePath(r));if(!n)throw new Hs("Failed to find weekly notes folder");return oe.Vault.recurseChildren(n,s=>{if(s instanceof oe.TFile){let a=Sr(s,"week");if(a){let i=Ye(a,"week");t[i]=s}}}),t}var js=class extends Error{};async function Ci(t){let{vault:e}=window.app,{template:r,format:n,folder:s}=sn(),[a,i]=await Tr(r),o=t.format(n),l=await un(s,o);try{let c=await e.create(l,a.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,w,F,g,x,L)=>{let j=window.moment(),Q=t.clone().set({hour:j.get("hour"),minute:j.get("minute"),second:j.get("second")});return F&&Q.add(parseInt(g,10),x),L?Q.format(L.substring(1).trim()):Q.format(n)}).replace(/{{\s*date\s*}}/gi,o).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,o));return window.app.foldManager.save(c,i),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new oe.Notice("Unable to create new file.")}}function Vc(t,e){return e[Ye(t,"month")]??null}function $c(){let t={};if(!Si())return t;let{vault:e}=window.app,{folder:r}=sn(),n=e.getAbstractFileByPath(oe.normalizePath(r));if(!n)throw new js("Failed to find monthly notes folder");return oe.Vault.recurseChildren(n,s=>{if(s instanceof oe.TFile){let a=Sr(s,"month");if(a){let i=Ye(a,"month");t[i]=s}}}),t}var zs=class extends Error{};async function Uc(t){let{vault:e}=window.app,{template:r,format:n,folder:s}=an(),[a,i]=await Tr(r),o=t.format(n),l=await un(s,o);try{let c=await e.create(l,a.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,w,F,g,x,L)=>{let j=window.moment(),Q=t.clone().set({hour:j.get("hour"),minute:j.get("minute"),second:j.get("second")});return F&&Q.add(parseInt(g,10),x),L?Q.format(L.substring(1).trim()):Q.format(n)}).replace(/{{\s*date\s*}}/gi,o).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,o));return window.app.foldManager.save(c,i),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new oe.Notice("Unable to create new file.")}}function Wc(t,e){return e[Ye(t,"quarter")]??null}function Zc(){let t={};if(!Ni())return t;let{vault:e}=window.app,{folder:r}=an(),n=e.getAbstractFileByPath(oe.normalizePath(r));if(!n)throw new zs("Failed to find quarterly notes folder");return oe.Vault.recurseChildren(n,s=>{if(s instanceof oe.TFile){let a=Sr(s,"quarter");if(a){let i=Ye(a,"quarter");t[i]=s}}}),t}var Vs=class extends Error{};async function qc(t){let{vault:e}=window.app,{template:r,format:n,folder:s}=on(),[a,i]=await Tr(r),o=t.format(n),l=await un(s,o);try{let c=await e.create(l,a.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(m,w,F,g,x,L)=>{let j=window.moment(),Q=t.clone().set({hour:j.get("hour"),minute:j.get("minute"),second:j.get("second")});return F&&Q.add(parseInt(g,10),x),L?Q.format(L.substring(1).trim()):Q.format(n)}).replace(/{{\s*date\s*}}/gi,o).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,o));return window.app.foldManager.save(c,i),c}catch(c){console.error(`Failed to create file: '${l}'`,c),new oe.Notice("Unable to create new file.")}}function Yc(t,e){return e[Ye(t,"year")]??null}function Gc(){let t={};if(!ki())return t;let{vault:e}=window.app,{folder:r}=on(),n=e.getAbstractFileByPath(oe.normalizePath(r));if(!n)throw new Vs("Failed to find yearly notes folder");return oe.Vault.recurseChildren(n,s=>{if(s instanceof oe.TFile){let a=Sr(s,"year");if(a){let i=Ye(a,"year");t[i]=s}}}),t}function Jc(){let{app:t}=window,e=t.internalPlugins.plugins["daily-notes"];if(e&&e.enabled)return!0;let r=t.plugins.getPlugin("periodic-notes");return r&&r.settings?.daily?.enabled}function Ti(){let{app:t}=window;if(t.plugins.getPlugin("calendar"))return!0;let e=t.plugins.getPlugin("periodic-notes");return e&&e.settings?.weekly?.enabled}function Si(){let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&e.settings?.monthly?.enabled}function Ni(){let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&e.settings?.quarterly?.enabled}function ki(){let{app:t}=window,e=t.plugins.getPlugin("periodic-notes");return e&&e.settings?.yearly?.enabled}function Qc(t){let e={day:rn,week:nn,month:sn,quarter:an,year:on}[t];return e()}function Kc(t,e){return{day:Ei,month:Ci,week:xi}[t](e)}Y.DEFAULT_DAILY_NOTE_FORMAT=Is;Y.DEFAULT_MONTHLY_NOTE_FORMAT=Fi;Y.DEFAULT_QUARTERLY_NOTE_FORMAT=wi;Y.DEFAULT_WEEKLY_NOTE_FORMAT=Bs;Y.DEFAULT_YEARLY_NOTE_FORMAT=vi;Y.appHasDailyNotesPluginLoaded=Jc;Y.appHasMonthlyNotesPluginLoaded=Si;Y.appHasQuarterlyNotesPluginLoaded=Ni;Y.appHasWeeklyNotesPluginLoaded=Ti;Y.appHasYearlyNotesPluginLoaded=ki;Y.createDailyNote=Ei;Y.createMonthlyNote=Ci;Y.createPeriodicNote=Kc;Y.createQuarterlyNote=Uc;Y.createWeeklyNote=xi;Y.createYearlyNote=qc;Y.getAllDailyNotes=Bc;Y.getAllMonthlyNotes=$c;Y.getAllQuarterlyNotes=Zc;Y.getAllWeeklyNotes=zc;Y.getAllYearlyNotes=Gc;Y.getDailyNote=Ic;Y.getDailyNoteSettings=rn;Y.getDateFromFile=Sr;Y.getDateFromPath=Mc;Y.getDateUID=Ye;Y.getMonthlyNote=Vc;Y.getMonthlyNoteSettings=sn;Y.getPeriodicNoteSettings=Qc;Y.getQuarterlyNote=Wc;Y.getQuarterlyNoteSettings=an;Y.getTemplateInfo=Tr;Y.getWeeklyNote=jc;Y.getWeeklyNoteSettings=nn;Y.getYearlyNote=Yc;Y.getYearlyNoteSettings=on});var mu=za(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});require("obsidian");var Pt=class extends Error{},ea=class extends Pt{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},ta=class extends Pt{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},ra=class extends Pt{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},sr=class extends Pt{},ss=class extends Pt{constructor(e){super(`Invalid unit ${e}`)}},Ce=class extends Pt{},ut=class extends Pt{constructor(){super("Zone is an abstract class")}},T="numeric",Xe="short",Ae="long",as={year:T,month:T,day:T},mo={year:T,month:Xe,day:T},sd={year:T,month:Xe,day:T,weekday:Xe},po={year:T,month:Ae,day:T},ho={year:T,month:Ae,day:T,weekday:Ae},Do={hour:T,minute:T},yo={hour:T,minute:T,second:T},go={hour:T,minute:T,second:T,timeZoneName:Xe},Fo={hour:T,minute:T,second:T,timeZoneName:Ae},wo={hour:T,minute:T,hourCycle:"h23"},vo={hour:T,minute:T,second:T,hourCycle:"h23"},bo={hour:T,minute:T,second:T,hourCycle:"h23",timeZoneName:Xe},Po={hour:T,minute:T,second:T,hourCycle:"h23",timeZoneName:Ae},_o={year:T,month:T,day:T,hour:T,minute:T},Eo={year:T,month:T,day:T,hour:T,minute:T,second:T},xo={year:T,month:Xe,day:T,hour:T,minute:T},Co={year:T,month:Xe,day:T,hour:T,minute:T,second:T},ad={year:T,month:Xe,day:T,weekday:Xe,hour:T,minute:T},To={year:T,month:Ae,day:T,hour:T,minute:T,timeZoneName:Xe},So={year:T,month:Ae,day:T,hour:T,minute:T,second:T,timeZoneName:Xe},No={year:T,month:Ae,day:T,weekday:Ae,hour:T,minute:T,timeZoneName:Ae},ko={year:T,month:Ae,day:T,weekday:Ae,hour:T,minute:T,second:T,timeZoneName:Ae},or=class{get type(){throw new ut}get name(){throw new ut}get ianaName(){return this.name}get isUniversal(){throw new ut}offsetName(e,r){throw new ut}formatOffset(e,r){throw new ut}offset(e){throw new ut}equals(e){throw new ut}get isValid(){throw new ut}},Zs=null,Rr=class extends or{static get instance(){return Zs===null&&(Zs=new Rr),Zs}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return Ao(e,r,n)}formatOffset(e,r){return Dn(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}},rs={};function id(t){return rs[t]||(rs[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),rs[t]}var od={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function ud(t,e){let r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,s,a,i,o,l,c,m]=n;return[i,s,a,o,l,c,m]}function ld(t,e){let r=t.formatToParts(e),n=[];for(let s=0;s<r.length;s++){let{type:a,value:i}=r[s],o=od[a];a==="era"?n[o]=i:J(o)||(n[o]=parseInt(i,10))}return n}var Jn={},et=class extends or{static create(e){return Jn[e]||(Jn[e]=new et(e)),Jn[e]}static resetCache(){Jn={},rs={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=et.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return Ao(e,r,n,this.name)}formatOffset(e,r){return Dn(this.offset(e),r)}offset(e){let r=new Date(e);if(isNaN(r))return NaN;let n=id(this.name),[s,a,i,o,l,c,m]=n.formatToParts?ld(n,r):ud(n,r);o==="BC"&&(s=-Math.abs(s)+1);let F=ms({year:s,month:a,day:i,hour:l===24?0:l,minute:c,second:m,millisecond:0}),g=+r,x=g%1e3;return g-=x>=0?x:1e3+x,(F-g)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}},Mi={};function cd(t,e={}){let r=JSON.stringify([t,e]),n=Mi[r];return n||(n=new Intl.ListFormat(t,e),Mi[r]=n),n}var na={};function sa(t,e={}){let r=JSON.stringify([t,e]),n=na[r];return n||(n=new Intl.DateTimeFormat(t,e),na[r]=n),n}var aa={};function dd(t,e={}){let r=JSON.stringify([t,e]),n=aa[r];return n||(n=new Intl.NumberFormat(t,e),aa[r]=n),n}var ia={};function fd(t,e={}){let{base:r,...n}=e,s=JSON.stringify([t,n]),a=ia[s];return a||(a=new Intl.RelativeTimeFormat(t,e),ia[s]=a),a}var pn=null;function md(){return pn||(pn=new Intl.DateTimeFormat().resolvedOptions().locale,pn)}function pd(t){let e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));let r=t.indexOf("-u-");if(r===-1)return[t];{let n,s;try{n=sa(t).resolvedOptions(),s=t}catch{let l=t.substring(0,r);n=sa(l).resolvedOptions(),s=l}let{numberingSystem:a,calendar:i}=n;return[s,a,i]}}function hd(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function Dd(t){let e=[];for(let r=1;r<=12;r++){let n=M.utc(2009,r,1);e.push(t(n))}return e}function yd(t){let e=[];for(let r=1;r<=7;r++){let n=M.utc(2016,11,13+r);e.push(t(n))}return e}function Qn(t,e,r,n){let s=t.listingMode();return s==="error"?null:s==="en"?r(e):n(e)}function gd(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}var oa=class{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let{padTo:s,floor:a,...i}=n;if(!r||Object.keys(i).length>0){let o={useGrouping:!1,...n};n.padTo>0&&(o.minimumIntegerDigits=n.padTo),this.inf=dd(e,o)}}format(e){if(this.inf){let r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{let r=this.floor?Math.floor(e):Fa(e,3);return de(r,this.padTo)}}},ua=class{constructor(e,r,n){this.opts=n,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){let i=-1*(e.offset/60),o=i>=0?`Etc/GMT+${i}`:`Etc/GMT${i}`;e.offset!==0&&et.create(o).valid?(s=o,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);let a={...this.opts};a.timeZone=a.timeZone||s,this.dtf=sa(r,a)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){let n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}},la=class{constructor(e,r,n){this.opts={style:"long",...n},!r&&Oo()&&(this.rtf=fd(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):Rd(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}},te=class{static fromOpts(e){return te.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,r,n,s=!1){let a=e||le.defaultLocale,i=a||(s?"en-US":md()),o=r||le.defaultNumberingSystem,l=n||le.defaultOutputCalendar;return new te(i,o,l,a)}static resetCache(){pn=null,na={},aa={},ia={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n}={}){return te.create(e,r,n)}constructor(e,r,n,s){let[a,i,o]=pd(e);this.locale=a,this.numberingSystem=r||i||null,this.outputCalendar=n||o||null,this.intl=hd(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=gd(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:te.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return Qn(this,e,Io,()=>{let n=r?{month:e,day:"numeric"}:{month:e},s=r?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=Dd(a=>this.extract(a,n,"month"))),this.monthsCache[s][e]})}weekdays(e,r=!1){return Qn(this,e,Ho,()=>{let n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=r?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=yd(a=>this.extract(a,n,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return Qn(this,void 0,()=>jo,()=>{if(!this.meridiemCache){let e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[M.utc(2016,11,13,9),M.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Qn(this,e,zo,()=>{let r={era:e};return this.eraCache[e]||(this.eraCache[e]=[M.utc(-40,1,1),M.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[e]})}extract(e,r,n){let s=this.dtFormatter(e,r),a=s.formatToParts(),i=a.find(o=>o.type.toLowerCase()===n);return i?i.value:null}numberFormatter(e={}){return new oa(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new ua(e,this.intl,r)}relFormatter(e={}){return new la(this.intl,this.isEnglish(),e)}listFormatter(e={}){return cd(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}},qs=null,Fe=class extends or{static get utcInstance(){return qs===null&&(qs=new Fe(0)),qs}static instance(e){return e===0?Fe.utcInstance:new Fe(e)}static parseSpecifier(e){if(e){let r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Fe(ps(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Dn(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Dn(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return Dn(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}},ca=class extends or{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function It(t,e){if(J(t)||t===null)return e;if(t instanceof or)return t;if(Fd(t)){let r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?Rr.instance:r==="utc"||r==="gmt"?Fe.utcInstance:Fe.parseSpecifier(r)||et.create(t)}else return ir(t)?Fe.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new ca(t)}var Ii=()=>Date.now(),Bi="system",Li=null,Hi=null,ji=null,zi=60,Vi,le=class{static get now(){return Ii}static set now(e){Ii=e}static set defaultZone(e){Bi=e}static get defaultZone(){return It(Bi,Rr.instance)}static get defaultLocale(){return Li}static set defaultLocale(e){Li=e}static get defaultNumberingSystem(){return Hi}static set defaultNumberingSystem(e){Hi=e}static get defaultOutputCalendar(){return ji}static set defaultOutputCalendar(e){ji=e}static get twoDigitCutoffYear(){return zi}static set twoDigitCutoffYear(e){zi=e%100}static get throwOnInvalid(){return Vi}static set throwOnInvalid(e){Vi=e}static resetCaches(){te.resetCache(),et.resetCache()}};function J(t){return typeof t>"u"}function ir(t){return typeof t=="number"}function fs(t){return typeof t=="number"&&t%1===0}function Fd(t){return typeof t=="string"}function wd(t){return Object.prototype.toString.call(t)==="[object Date]"}function Oo(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function vd(t){return Array.isArray(t)?t:[t]}function $i(t,e,r){if(t.length!==0)return t.reduce((n,s)=>{let a=[e(s),s];return n&&r(n[0],a[0])===n[0]?n:a},null)[1]}function bd(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function Mr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function bt(t,e,r){return fs(t)&&t>=e&&t<=r}function Pd(t,e){return t-e*Math.floor(t/e)}function de(t,e=2){let r=t<0,n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function Mt(t){if(!(J(t)||t===null||t===""))return parseInt(t,10)}function rr(t){if(!(J(t)||t===null||t===""))return parseFloat(t)}function ga(t){if(!(J(t)||t===null||t==="")){let e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Fa(t,e,r=!1){let n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function vn(t){return t%4===0&&(t%100!==0||t%400===0)}function hn(t){return vn(t)?366:365}function is(t,e){let r=Pd(e-1,12)+1,n=t+(e-r)/12;return r===2?vn(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function ms(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function os(t){let e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,r=t-1,n=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return e===4||n===3?53:52}function da(t){return t>99?t:t>le.twoDigitCutoffYear?1900+t:2e3+t}function Ao(t,e,r,n=null){let s=new Date(t),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);let i={timeZoneName:e,...a},o=new Intl.DateTimeFormat(r,i).formatToParts(s).find(l=>l.type.toLowerCase()==="timezonename");return o?o.value:null}function ps(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);let n=parseInt(e,10)||0,s=r<0||Object.is(r,-0)?-n:n;return r*60+s}function Ro(t){let e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Ce(`Invalid unit value ${t}`);return e}function us(t,e){let r={};for(let n in t)if(Mr(t,n)){let s=t[n];if(s==null)continue;r[e(n)]=Ro(s)}return r}function Dn(t,e){let r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),s=t>=0?"+":"-";switch(e){case"short":return`${s}${de(r,2)}:${de(n,2)}`;case"narrow":return`${s}${r}${n>0?`:${n}`:""}`;case"techie":return`${s}${de(r,2)}${de(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function hs(t){return bd(t,["hour","minute","second","millisecond"])}var _d=["January","February","March","April","May","June","July","August","September","October","November","December"],Mo=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ed=["J","F","M","A","M","J","J","A","S","O","N","D"];function Io(t){switch(t){case"narrow":return[...Ed];case"short":return[...Mo];case"long":return[..._d];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Bo=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Lo=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],xd=["M","T","W","T","F","S","S"];function Ho(t){switch(t){case"narrow":return[...xd];case"short":return[...Lo];case"long":return[...Bo];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var jo=["AM","PM"],Cd=["Before Christ","Anno Domini"],Td=["BC","AD"],Sd=["B","A"];function zo(t){switch(t){case"narrow":return[...Sd];case"short":return[...Td];case"long":return[...Cd];default:return null}}function Nd(t){return jo[t.hour<12?0:1]}function kd(t,e){return Ho(e)[t.weekday-1]}function Od(t,e){return Io(e)[t.month-1]}function Ad(t,e){return zo(e)[t.year<0?0:1]}function Rd(t,e,r="always",n=!1){let s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&a){let w=t==="days";switch(e){case 1:return w?"tomorrow":`next ${s[t][0]}`;case-1:return w?"yesterday":`last ${s[t][0]}`;case 0:return w?"today":`this ${s[t][0]}`}}let i=Object.is(e,-0)||e<0,o=Math.abs(e),l=o===1,c=s[t],m=n?l?c[1]:c[2]||c[1]:l?s[t][0]:t;return i?`${o} ${m} ago`:`in ${o} ${m}`}function Ui(t,e){let r="";for(let n of t)n.literal?r+=n.val:r+=e(n.val);return r}var Md={D:as,DD:mo,DDD:po,DDDD:ho,t:Do,tt:yo,ttt:go,tttt:Fo,T:wo,TT:vo,TTT:bo,TTTT:Po,f:_o,ff:xo,fff:To,ffff:No,F:Eo,FF:Co,FFF:So,FFFF:ko},De=class{static create(e,r={}){return new De(e,r)}static parseFormat(e){let r=null,n="",s=!1,a=[];for(let i=0;i<e.length;i++){let o=e.charAt(i);o==="'"?(n.length>0&&a.push({literal:s||/^\s+$/.test(n),val:n}),r=null,n="",s=!s):s||o===r?n+=o:(n.length>0&&a.push({literal:/^\s+$/.test(n),val:n}),n=o,r=o)}return n.length>0&&a.push({literal:s||/^\s+$/.test(n),val:n}),a}static macroTokenToFormatOpts(e){return Md[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return de(e,r);let n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){let n=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(g,x)=>this.loc.extract(e,g,x),i=g=>e.isOffsetFixed&&e.offset===0&&g.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,g.format):"",o=()=>n?Nd(e):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(g,x)=>n?Od(e,g):a(x?{month:g}:{month:g,day:"numeric"},"month"),c=(g,x)=>n?kd(e,g):a(x?{weekday:g}:{weekday:g,month:"long",day:"numeric"},"weekday"),m=g=>{let x=De.macroTokenToFormatOpts(g);return x?this.formatWithSystemDefault(e,x):g},w=g=>n?Ad(e,g):a({era:g},"era"),F=g=>{switch(g){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return i({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return i({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return i({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return s?a({day:"numeric"},"day"):this.num(e.day);case"dd":return s?a({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return s?a({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?a({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return s?a({month:"numeric"},"month"):this.num(e.month);case"MM":return s?a({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return s?a({year:"numeric"},"year"):this.num(e.year);case"yy":return s?a({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?a({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?a({year:"numeric"},"year"):this.num(e.year,6);case"G":return w("short");case"GG":return w("long");case"GGGGG":return w("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return m(g)}};return Ui(De.parseFormat(r),F)}formatDurationFromString(e,r){let n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=l=>c=>{let m=n(c);return m?this.num(l.get(m),c.length):c},a=De.parseFormat(r),i=a.reduce((l,{literal:c,val:m})=>c?l:l.concat(m),[]),o=e.shiftTo(...i.map(n).filter(l=>l));return Ui(a,s(o))}},Oe=class{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}},Vo=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ir(...t){let e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function Br(...t){return e=>t.reduce(([r,n,s],a)=>{let[i,o,l]=a(e,s);return[{...r,...i},o||n,l]},[{},null,1]).slice(0,2)}function Lr(t,...e){if(t==null)return[null,null];for(let[r,n]of e){let s=r.exec(t);if(s)return n(s)}return[null,null]}function $o(...t){return(e,r)=>{let n={},s;for(s=0;s<t.length;s++)n[t[s]]=Mt(e[r+s]);return[n,null,r+s]}}var Uo=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Id=`(?:${Uo.source}?(?:\\[(${Vo.source})\\])?)?`,wa=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Wo=RegExp(`${wa.source}${Id}`),va=RegExp(`(?:T${Wo.source})?`),Bd=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Ld=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Hd=/(\d{4})-?(\d{3})/,jd=$o("weekYear","weekNumber","weekDay"),zd=$o("year","ordinal"),Vd=/(\d{4})-(\d\d)-(\d\d)/,Zo=RegExp(`${wa.source} ?(?:${Uo.source}|(${Vo.source}))?`),$d=RegExp(`(?: ${Zo.source})?`);function Ar(t,e,r){let n=t[e];return J(n)?r:Mt(n)}function Ud(t,e){return[{year:Ar(t,e),month:Ar(t,e+1,1),day:Ar(t,e+2,1)},null,e+3]}function Hr(t,e){return[{hours:Ar(t,e,0),minutes:Ar(t,e+1,0),seconds:Ar(t,e+2,0),milliseconds:ga(t[e+3])},null,e+4]}function bn(t,e){let r=!t[e]&&!t[e+1],n=ps(t[e+1],t[e+2]),s=r?null:Fe.instance(n);return[{},s,e+3]}function Pn(t,e){let r=t[e]?et.create(t[e]):null;return[{},r,e+1]}var Wd=RegExp(`^T?${wa.source}$`),Zd=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function qd(t){let[e,r,n,s,a,i,o,l,c]=t,m=e[0]==="-",w=l&&l[0]==="-",F=(g,x=!1)=>g!==void 0&&(x||g&&m)?-g:g;return[{years:F(rr(r)),months:F(rr(n)),weeks:F(rr(s)),days:F(rr(a)),hours:F(rr(i)),minutes:F(rr(o)),seconds:F(rr(l),l==="-0"),milliseconds:F(ga(c),w)}]}var Yd={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ba(t,e,r,n,s,a,i){let o={year:e.length===2?da(Mt(e)):Mt(e),month:Mo.indexOf(r)+1,day:Mt(n),hour:Mt(s),minute:Mt(a)};return i&&(o.second=Mt(i)),t&&(o.weekday=t.length>3?Bo.indexOf(t)+1:Lo.indexOf(t)+1),o}var Gd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Jd(t){let[,e,r,n,s,a,i,o,l,c,m,w]=t,F=ba(e,s,n,r,a,i,o),g;return l?g=Yd[l]:c?g=0:g=ps(m,w),[F,new Fe(g)]}function Qd(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var Kd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Xd=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ef=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Wi(t){let[,e,r,n,s,a,i,o]=t;return[ba(e,s,n,r,a,i,o),Fe.utcInstance]}function tf(t){let[,e,r,n,s,a,i,o]=t;return[ba(e,o,r,n,s,a,i),Fe.utcInstance]}var rf=Ir(Bd,va),nf=Ir(Ld,va),sf=Ir(Hd,va),af=Ir(Wo),qo=Br(Ud,Hr,bn,Pn),of=Br(jd,Hr,bn,Pn),uf=Br(zd,Hr,bn,Pn),lf=Br(Hr,bn,Pn);function cf(t){return Lr(t,[rf,qo],[nf,of],[sf,uf],[af,lf])}function df(t){return Lr(Qd(t),[Gd,Jd])}function ff(t){return Lr(t,[Kd,Wi],[Xd,Wi],[ef,tf])}function mf(t){return Lr(t,[Zd,qd])}var pf=Br(Hr);function hf(t){return Lr(t,[Wd,pf])}var Df=Ir(Vd,$d),yf=Ir(Zo),gf=Br(Hr,bn,Pn);function Ff(t){return Lr(t,[Df,qo],[yf,gf])}var Zi="Invalid Duration",Yo={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},wf={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Yo},Le=146097/400,Nr=146097/4800,vf={years:{quarters:4,months:12,weeks:Le/7,days:Le,hours:Le*24,minutes:Le*24*60,seconds:Le*24*60*60,milliseconds:Le*24*60*60*1e3},quarters:{months:3,weeks:Le/28,days:Le/4,hours:Le*24/4,minutes:Le*24*60/4,seconds:Le*24*60*60/4,milliseconds:Le*24*60*60*1e3/4},months:{weeks:Nr/7,days:Nr,hours:Nr*24,minutes:Nr*24*60,seconds:Nr*24*60*60,milliseconds:Nr*24*60*60*1e3},...Yo},ar=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],bf=ar.slice(0).reverse();function Rt(t,e,r=!1){let n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new N(n)}function Go(t,e){let r=e.milliseconds??0;for(let n of bf.slice(1))e[n]&&(r+=e[n]*t[n].milliseconds);return r}function qi(t,e){let r=Go(t,e)<0?-1:1;ar.reduceRight((n,s)=>{if(J(e[s]))return n;if(n){let a=e[n]*r,i=t[s][n],o=Math.floor(a/i);e[s]+=o*r,e[n]-=o*i*r}return s},null),ar.reduce((n,s)=>{if(J(e[s]))return n;if(n){let a=e[n]%1;e[n]-=a,e[s]+=a*t[n][s]}return s},null)}function Pf(t){let e={};for(let[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}var N=class{constructor(e){let r=e.conversionAccuracy==="longterm"||!1,n=r?vf:wf;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||te.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return N.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new Ce(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new N({values:us(e,N.normalizeUnit),loc:te.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(ir(e))return N.fromMillis(e);if(N.isDuration(e))return e;if(typeof e=="object")return N.fromObject(e);throw new Ce(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){let[n]=mf(e);return n?N.fromObject(n,r):N.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){let[n]=hf(e);return n?N.fromObject(n,r):N.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new Ce("need to specify a reason the Duration is invalid");let n=e instanceof Oe?e:new Oe(e,r);if(le.throwOnInvalid)throw new ra(n);return new N({invalid:n})}static normalizeUnit(e){let r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new ss(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){let n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?De.create(this.loc,n).formatDurationFromString(this,e):Zi}toHuman(e={}){if(!this.isValid)return Zi;let r=ar.map(n=>{let s=this.values[n];return J(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(s)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Fa(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},M.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?Go(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let r=N.fromDurationLike(e),n={};for(let s of ar)(Mr(r.values,s)||Mr(this.values,s))&&(n[s]=r.get(s)+this.get(s));return Rt(this,{values:n},!0)}minus(e){if(!this.isValid)return this;let r=N.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;let r={};for(let n of Object.keys(this.values))r[n]=Ro(e(this.values[n],n));return Rt(this,{values:r},!0)}get(e){return this[N.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let r={...this.values,...us(e,N.normalizeUnit)};return Rt(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:s}={}){let i={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:s,conversionAccuracy:n};return Rt(this,i)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return qi(this.matrix,e),Rt(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=Pf(this.normalize().shiftToAll().toObject());return Rt(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(i=>N.normalizeUnit(i));let r={},n={},s=this.toObject(),a;for(let i of ar)if(e.indexOf(i)>=0){a=i;let o=0;for(let c in n)o+=this.matrix[c][i]*n[c],n[c]=0;ir(s[i])&&(o+=s[i]);let l=Math.trunc(o);r[i]=l,n[i]=(o*1e3-l*1e3)/1e3}else ir(s[i])&&(n[i]=s[i]);for(let i in n)n[i]!==0&&(r[a]+=i===a?n[i]:n[i]/this.matrix[a][i]);return qi(this.matrix,r),Rt(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return Rt(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,s){return n===void 0||n===0?s===void 0||s===0:n===s}for(let n of ar)if(!r(this.values[n],e.values[n]))return!1;return!0}},kr="Invalid Interval";function _f(t,e){return!t||!t.isValid?ie.invalid("missing or invalid start"):!e||!e.isValid?ie.invalid("missing or invalid end"):e<t?ie.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}var ie=class{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new Ce("need to specify a reason the Interval is invalid");let n=e instanceof Oe?e:new Oe(e,r);if(le.throwOnInvalid)throw new ta(n);return new ie({invalid:n})}static fromDateTimes(e,r){let n=fn(e),s=fn(r),a=_f(n,s);return a??new ie({start:n,end:s})}static after(e,r){let n=N.fromDurationLike(r),s=fn(e);return ie.fromDateTimes(s,s.plus(n))}static before(e,r){let n=N.fromDurationLike(r),s=fn(e);return ie.fromDateTimes(s.minus(n),s)}static fromISO(e,r){let[n,s]=(e||"").split("/",2);if(n&&s){let a,i;try{a=M.fromISO(n,r),i=a.isValid}catch{i=!1}let o,l;try{o=M.fromISO(s,r),l=o.isValid}catch{l=!1}if(i&&l)return ie.fromDateTimes(a,o);if(i){let c=N.fromISO(s,r);if(c.isValid)return ie.after(a,c)}else if(l){let c=N.fromISO(n,r);if(c.isValid)return ie.before(o,c)}}return ie.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;let r=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(r,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?ie.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];let r=e.map(fn).filter(i=>this.contains(i)).sort(),n=[],{s}=this,a=0;for(;s<this.e;){let i=r[a]||this.e,o=+i>+this.e?this.e:i;n.push(ie.fromDateTimes(s,o)),s=o,a+=1}return n}splitBy(e){let r=N.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,s=1,a,i=[];for(;n<this.e;){let o=this.start.plus(r.mapUnits(l=>l*s));a=+o>+this.e?this.e:o,i.push(ie.fromDateTimes(n,a)),n=a,s+=1}return i}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:ie.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;let r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return ie.fromDateTimes(r,n)}static merge(e){let[r,n]=e.sort((s,a)=>s.s-a.s).reduce(([s,a],i)=>a?a.overlaps(i)||a.abutsStart(i)?[s,a.union(i)]:[s.concat([a]),i]:[s,i],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0,s=[],a=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),i=Array.prototype.concat(...a),o=i.sort((l,c)=>l.time-c.time);for(let l of o)n+=l.type==="s"?1:-1,n===1?r=l.time:(r&&+r!=+l.time&&s.push(ie.fromDateTimes(r,l.time)),r=null);return ie.merge(s)}difference(...e){return ie.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:kr}toLocaleString(e=as,r={}){return this.isValid?De.create(this.s.loc.clone(r),e).formatInterval(this):kr}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:kr}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:kr}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:kr}toFormat(e,{separator:r=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:kr}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):N.invalid(this.invalidReason)}mapEndpoints(e){return ie.fromDateTimes(e(this.s),e(this.e))}},Or=class{static hasDST(e=le.defaultZone){let r=M.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return et.isValidZone(e)}static normalizeZone(e){return It(e,le.defaultZone)}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:a="gregory"}={}){return(s||te.create(r,n,a)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:a="gregory"}={}){return(s||te.create(r,n,a)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||te.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||te.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return te.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return te.create(r,null,"gregory").eras(e)}static features(){return{relative:Oo()}}};function Yi(t,e){let r=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(N.fromMillis(n).as("days"))}function Ef(t,e,r){let n=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{let m=Yi(l,c);return(m-m%7)/7}],["days",Yi]],s={},a=t,i,o;for(let[l,c]of n)r.indexOf(l)>=0&&(i=l,s[l]=c(t,e),o=a.plus(s),o>e?(s[l]--,t=a.plus(s),t>e&&(o=t,s[l]--,t=a.plus(s))):t=o);return[t,s,o,i]}function xf(t,e,r,n){let[s,a,i,o]=Ef(t,e,r),l=e-s,c=r.filter(w=>["hours","minutes","seconds","milliseconds"].indexOf(w)>=0);c.length===0&&(i<e&&(i=s.plus({[o]:1})),i!==s&&(a[o]=(a[o]||0)+l/(i-s)));let m=N.fromObject(a,n);return c.length>0?N.fromMillis(l,n).shiftTo(...c).plus(m):m}var Pa={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Gi={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Cf=Pa.hanidec.replace(/[\[|\]]/g,"").split("");function Tf(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(t[r].search(Pa.hanidec)!==-1)e+=Cf.indexOf(t[r]);else for(let s in Gi){let[a,i]=Gi[s];n>=a&&n<=i&&(e+=n-a)}}return parseInt(e,10)}else return e}function Je({numberingSystem:t},e=""){return new RegExp(`${Pa[t||"latn"]}${e}`)}var Sf="missing Intl.DateTimeFormat.formatToParts support";function X(t,e=r=>r){return{regex:t,deser:([r])=>e(Tf(r))}}var Nf=String.fromCharCode(160),Jo=`[ ${Nf}]`,Qo=new RegExp(Jo,"g");function kf(t){return t.replace(/\./g,"\\.?").replace(Qo,Jo)}function Ji(t){return t.replace(/\./g,"").replace(Qo," ").toLowerCase()}function Qe(t,e){return t===null?null:{regex:RegExp(t.map(kf).join("|")),deser:([r])=>t.findIndex(n=>Ji(r)===Ji(n))+e}}function Qi(t,e){return{regex:t,deser:([,r,n])=>ps(r,n),groups:e}}function Kn(t){return{regex:t,deser:([e])=>e}}function Of(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Af(t,e){let r=Je(e),n=Je(e,"{2}"),s=Je(e,"{3}"),a=Je(e,"{4}"),i=Je(e,"{6}"),o=Je(e,"{1,2}"),l=Je(e,"{1,3}"),c=Je(e,"{1,6}"),m=Je(e,"{1,9}"),w=Je(e,"{2,4}"),F=Je(e,"{4,6}"),g=j=>({regex:RegExp(Of(j.val)),deser:([Q])=>Q,literal:!0}),L=(j=>{if(t.literal)return g(j);switch(j.val){case"G":return Qe(e.eras("short"),0);case"GG":return Qe(e.eras("long"),0);case"y":return X(c);case"yy":return X(w,da);case"yyyy":return X(a);case"yyyyy":return X(F);case"yyyyyy":return X(i);case"M":return X(o);case"MM":return X(n);case"MMM":return Qe(e.months("short",!0),1);case"MMMM":return Qe(e.months("long",!0),1);case"L":return X(o);case"LL":return X(n);case"LLL":return Qe(e.months("short",!1),1);case"LLLL":return Qe(e.months("long",!1),1);case"d":return X(o);case"dd":return X(n);case"o":return X(l);case"ooo":return X(s);case"HH":return X(n);case"H":return X(o);case"hh":return X(n);case"h":return X(o);case"mm":return X(n);case"m":return X(o);case"q":return X(o);case"qq":return X(n);case"s":return X(o);case"ss":return X(n);case"S":return X(l);case"SSS":return X(s);case"u":return Kn(m);case"uu":return Kn(o);case"uuu":return X(r);case"a":return Qe(e.meridiems(),0);case"kkkk":return X(a);case"kk":return X(w,da);case"W":return X(o);case"WW":return X(n);case"E":case"c":return X(r);case"EEE":return Qe(e.weekdays("short",!1),1);case"EEEE":return Qe(e.weekdays("long",!1),1);case"ccc":return Qe(e.weekdays("short",!0),1);case"cccc":return Qe(e.weekdays("long",!0),1);case"Z":case"ZZ":return Qi(new RegExp(`([+-]${o.source})(?::(${n.source}))?`),2);case"ZZZ":return Qi(new RegExp(`([+-]${o.source})(${n.source})?`),2);case"z":return Kn(/[a-z_+-/]{1,256}?/i);case" ":return Kn(/[^\S\n\r]/);default:return g(j)}})(t)||{invalidReason:Sf};return L.token=t,L}var Rf={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Mf(t,e,r){let{type:n,value:s}=t;if(n==="literal"){let l=/^\s+$/.test(s);return{literal:!l,val:l?" ":s}}let a=e[n],i=n;n==="hour"&&(e.hour12!=null?i=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?i="hour12":i="hour24":i=r.hour12?"hour12":"hour24");let o=Rf[i];if(typeof o=="object"&&(o=o[a]),o)return{literal:!1,val:o}}function If(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function Bf(t,e,r){let n=t.match(e);if(n){let s={},a=1;for(let i in r)if(Mr(r,i)){let o=r[i],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(s[o.token.val[0]]=o.deser(n.slice(a,a+l))),a+=l}return[n,s]}else return[n,{}]}function Lf(t){let e=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},r=null,n;return J(t.z)||(r=et.create(t.z)),J(t.Z)||(r||(r=new Fe(t.Z)),n=t.Z),J(t.q)||(t.M=(t.q-1)*3+1),J(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),J(t.u)||(t.S=ga(t.u)),[Object.keys(t).reduce((a,i)=>{let o=e(i);return o&&(a[o]=t[i]),a},{}),r,n]}var Ys=null;function Hf(){return Ys||(Ys=M.fromMillis(1555555555555)),Ys}function jf(t,e){if(t.literal)return t;let r=De.macroTokenToFormatOpts(t.val),n=eu(r,e);return n==null||n.includes(void 0)?t:n}function Ko(t,e){return Array.prototype.concat(...t.map(r=>jf(r,e)))}function Xo(t,e,r){let n=Ko(De.parseFormat(r),t),s=n.map(i=>Af(i,t)),a=s.find(i=>i.invalidReason);if(a)return{input:e,tokens:n,invalidReason:a.invalidReason};{let[i,o]=If(s),l=RegExp(i,"i"),[c,m]=Bf(e,l,o),[w,F,g]=m?Lf(m):[null,null,void 0];if(Mr(m,"a")&&Mr(m,"H"))throw new sr("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:l,rawMatches:c,matches:m,result:w,zone:F,specificOffset:g}}}function zf(t,e,r){let{result:n,zone:s,specificOffset:a,invalidReason:i}=Xo(t,e,r);return[n,s,a,i]}function eu(t,e){if(!t)return null;let n=De.create(e,t).dtFormatter(Hf()),s=n.formatToParts(),a=n.resolvedOptions();return s.map(i=>Mf(i,t,a))}var tu=[0,31,59,90,120,151,181,212,243,273,304,334],ru=[0,31,60,91,121,152,182,213,244,274,305,335];function He(t,e){return new Oe("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function nu(t,e,r){let n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let s=n.getUTCDay();return s===0?7:s}function su(t,e,r){return r+(vn(t)?ru:tu)[e-1]}function au(t,e){let r=vn(t)?ru:tu,n=r.findIndex(a=>a<e),s=e-r[n];return{month:n+1,day:s}}function fa(t){let{year:e,month:r,day:n}=t,s=su(e,r,n),a=nu(e,r,n),i=Math.floor((s-a+10)/7),o;return i<1?(o=e-1,i=os(o)):i>os(e)?(o=e+1,i=1):o=e,{weekYear:o,weekNumber:i,weekday:a,...hs(t)}}function Ki(t){let{weekYear:e,weekNumber:r,weekday:n}=t,s=nu(e,1,4),a=hn(e),i=r*7+n-s-3,o;i<1?(o=e-1,i+=hn(o)):i>a?(o=e+1,i-=hn(e)):o=e;let{month:l,day:c}=au(o,i);return{year:o,month:l,day:c,...hs(t)}}function Gs(t){let{year:e,month:r,day:n}=t,s=su(e,r,n);return{year:e,ordinal:s,...hs(t)}}function Xi(t){let{year:e,ordinal:r}=t,{month:n,day:s}=au(e,r);return{year:e,month:n,day:s,...hs(t)}}function Vf(t){let e=fs(t.weekYear),r=bt(t.weekNumber,1,os(t.weekYear)),n=bt(t.weekday,1,7);return e?r?n?!1:He("weekday",t.weekday):He("week",t.week):He("weekYear",t.weekYear)}function $f(t){let e=fs(t.year),r=bt(t.ordinal,1,hn(t.year));return e?r?!1:He("ordinal",t.ordinal):He("year",t.year)}function iu(t){let e=fs(t.year),r=bt(t.month,1,12),n=bt(t.day,1,is(t.year,t.month));return e?r?n?!1:He("day",t.day):He("month",t.month):He("year",t.year)}function ou(t){let{hour:e,minute:r,second:n,millisecond:s}=t,a=bt(e,0,23)||e===24&&r===0&&n===0&&s===0,i=bt(r,0,59),o=bt(n,0,59),l=bt(s,0,999);return a?i?o?l?!1:He("millisecond",s):He("second",n):He("minute",r):He("hour",e)}var Js="Invalid DateTime",eo=864e13;function Xn(t){return new Oe("unsupported zone",`the zone "${t.name}" is not supported`)}function Qs(t){return t.weekData===null&&(t.weekData=fa(t.c)),t.weekData}function nr(t,e){let r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new M({...r,...e,old:r})}function uu(t,e,r){let n=t-e*60*1e3,s=r.offset(n);if(e===s)return[n,e];n-=(s-e)*60*1e3;let a=r.offset(n);return s===a?[n,s]:[t-Math.min(s,a)*60*1e3,Math.max(s,a)]}function es(t,e){t+=e*60*1e3;let r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function ns(t,e,r){return uu(ms(t),e,r)}function to(t,e){let r=t.o,n=t.c.year+Math.trunc(e.years),s=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a={...t.c,year:n,month:s,day:Math.min(t.c.day,is(n,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},i=N.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=ms(a),[l,c]=uu(o,r,t.zone);return i!==0&&(l+=i,c=t.zone.offset(l)),{ts:l,o:c}}function dn(t,e,r,n,s,a){let{setZone:i,zone:o}=r;if(t&&Object.keys(t).length!==0||e){let l=e||o,c=M.fromObject(t,{...r,zone:l,specificOffset:a});return i?c:c.setZone(o)}else return M.invalid(new Oe("unparsable",`the input "${s}" can't be parsed as ${n}`))}function ts(t,e,r=!0){return t.isValid?De.create(te.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Ks(t,e){let r=t.c.year>9999||t.c.year<0,n="";return r&&t.c.year>=0&&(n+="+"),n+=de(t.c.year,r?6:4),e?(n+="-",n+=de(t.c.month),n+="-",n+=de(t.c.day)):(n+=de(t.c.month),n+=de(t.c.day)),n}function ro(t,e,r,n,s,a){let i=de(t.c.hour);return e?(i+=":",i+=de(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(i+=":")):i+=de(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(i+=de(t.c.second),(t.c.millisecond!==0||!n)&&(i+=".",i+=de(t.c.millisecond,3))),s&&(t.isOffsetFixed&&t.offset===0&&!a?i+="Z":t.o<0?(i+="-",i+=de(Math.trunc(-t.o/60)),i+=":",i+=de(Math.trunc(-t.o%60))):(i+="+",i+=de(Math.trunc(t.o/60)),i+=":",i+=de(Math.trunc(t.o%60)))),a&&(i+="["+t.zone.ianaName+"]"),i}var lu={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Uf={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Wf={ordinal:1,hour:0,minute:0,second:0,millisecond:0},cu=["year","month","day","hour","minute","second","millisecond"],Zf=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],qf=["year","ordinal","hour","minute","second","millisecond"];function no(t){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new ss(t);return e}function so(t,e){let r=It(e.zone,le.defaultZone),n=te.fromObject(e),s=le.now(),a,i;if(J(t.year))a=s;else{for(let c of cu)J(t[c])&&(t[c]=lu[c]);let o=iu(t)||ou(t);if(o)return M.invalid(o);let l=r.offset(s);[a,i]=ns(t,l,r)}return new M({ts:a,zone:r,loc:n,o:i})}function ao(t,e,r){let n=J(r.round)?!0:r.round,s=(i,o)=>(i=Fa(i,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(i,o)),a=i=>r.calendary?e.hasSame(t,i)?0:e.startOf(i).diff(t.startOf(i),i).get(i):e.diff(t,i).get(i);if(r.unit)return s(a(r.unit),r.unit);for(let i of r.units){let o=a(i);if(Math.abs(o)>=1)return s(o,i)}return s(t>e?-0:0,r.units[r.units.length-1])}function io(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}var M=class{constructor(e){let r=e.zone||le.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new Oe("invalid input"):null)||(r.isValid?null:Xn(r));this.ts=J(e.ts)?le.now():e.ts;let s=null,a=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[s,a]=[e.old.c,e.old.o];else{let o=r.offset(this.ts);s=es(this.ts,o),n=Number.isNaN(s.year)?new Oe("invalid input"):null,s=n?null:s,a=n?null:o}this._zone=r,this.loc=e.loc||te.create(),this.invalid=n,this.weekData=null,this.c=s,this.o=a,this.isLuxonDateTime=!0}static now(){return new M({})}static local(){let[e,r]=io(arguments),[n,s,a,i,o,l,c]=r;return so({year:n,month:s,day:a,hour:i,minute:o,second:l,millisecond:c},e)}static utc(){let[e,r]=io(arguments),[n,s,a,i,o,l,c]=r;return e.zone=Fe.utcInstance,so({year:n,month:s,day:a,hour:i,minute:o,second:l,millisecond:c},e)}static fromJSDate(e,r={}){let n=wd(e)?e.valueOf():NaN;if(Number.isNaN(n))return M.invalid("invalid input");let s=It(r.zone,le.defaultZone);return s.isValid?new M({ts:n,zone:s,loc:te.fromObject(r)}):M.invalid(Xn(s))}static fromMillis(e,r={}){if(ir(e))return e<-eo||e>eo?M.invalid("Timestamp out of range"):new M({ts:e,zone:It(r.zone,le.defaultZone),loc:te.fromObject(r)});throw new Ce(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(ir(e))return new M({ts:e*1e3,zone:It(r.zone,le.defaultZone),loc:te.fromObject(r)});throw new Ce("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};let n=It(r.zone,le.defaultZone);if(!n.isValid)return M.invalid(Xn(n));let s=le.now(),a=J(r.specificOffset)?n.offset(s):r.specificOffset,i=us(e,no),o=!J(i.ordinal),l=!J(i.year),c=!J(i.month)||!J(i.day),m=l||c,w=i.weekYear||i.weekNumber,F=te.fromObject(r);if((m||o)&&w)throw new sr("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&o)throw new sr("Can't mix ordinal dates with month/day");let g=w||i.weekday&&!m,x,L,j=es(s,a);g?(x=Zf,L=Uf,j=fa(j)):o?(x=qf,L=Wf,j=Gs(j)):(x=cu,L=lu);let Q=!1;for(let $ of x){let re=i[$];J(re)?Q?i[$]=L[$]:i[$]=j[$]:Q=!0}let Pe=g?Vf(i):o?$f(i):iu(i),_e=Pe||ou(i);if(_e)return M.invalid(_e);let v=g?Ki(i):o?Xi(i):i,[Z,ce]=ns(v,a,n),A=new M({ts:Z,zone:n,o:ce,loc:F});return i.weekday&&m&&e.weekday!==A.weekday?M.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${A.toISO()}`):A}static fromISO(e,r={}){let[n,s]=cf(e);return dn(n,s,r,"ISO 8601",e)}static fromRFC2822(e,r={}){let[n,s]=df(e);return dn(n,s,r,"RFC 2822",e)}static fromHTTP(e,r={}){let[n,s]=ff(e);return dn(n,s,r,"HTTP",r)}static fromFormat(e,r,n={}){if(J(e)||J(r))throw new Ce("fromFormat requires an input string and a format");let{locale:s=null,numberingSystem:a=null}=n,i=te.fromOpts({locale:s,numberingSystem:a,defaultToEN:!0}),[o,l,c,m]=zf(i,e,r);return m?M.invalid(m):dn(o,l,n,`format ${r}`,e,c)}static fromString(e,r,n={}){return M.fromFormat(e,r,n)}static fromSQL(e,r={}){let[n,s]=Ff(e);return dn(n,s,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new Ce("need to specify a reason the DateTime is invalid");let n=e instanceof Oe?e:new Oe(e,r);if(le.throwOnInvalid)throw new ea(n);return new M({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){let n=eu(e,te.fromObject(r));return n?n.map(s=>s?s.val:null).join(""):null}static expandFormat(e,r={}){return Ko(De.parseFormat(e),te.fromObject(r)).map(s=>s.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Qs(this).weekYear:NaN}get weekNumber(){return this.isValid?Qs(this).weekNumber:NaN}get weekday(){return this.isValid?Qs(this).weekday:NaN}get ordinal(){return this.isValid?Gs(this.c).ordinal:NaN}get monthShort(){return this.isValid?Or.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Or.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Or.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Or.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let e=864e5,r=6e4,n=ms(this.c),s=this.zone.offset(n-e),a=this.zone.offset(n+e),i=this.zone.offset(n-s*r),o=this.zone.offset(n-a*r);if(i===o)return[this];let l=n-i*r,c=n-o*r,m=es(l,i),w=es(c,o);return m.hour===w.hour&&m.minute===w.minute&&m.second===w.second&&m.millisecond===w.millisecond?[nr(this,{ts:l}),nr(this,{ts:c})]:[this]}get isInLeapYear(){return vn(this.year)}get daysInMonth(){return is(this.year,this.month)}get daysInYear(){return this.isValid?hn(this.year):NaN}get weeksInWeekYear(){return this.isValid?os(this.weekYear):NaN}resolvedLocaleOptions(e={}){let{locale:r,numberingSystem:n,calendar:s}=De.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:s}}toUTC(e=0,r={}){return this.setZone(Fe.instance(e),r)}toLocal(){return this.setZone(le.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=It(e,le.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(r||n){let a=e.offset(this.ts),i=this.toObject();[s]=ns(i,a,e)}return nr(this,{ts:s,zone:e})}else return M.invalid(Xn(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){let s=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return nr(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let r=us(e,no),n=!J(r.weekYear)||!J(r.weekNumber)||!J(r.weekday),s=!J(r.ordinal),a=!J(r.year),i=!J(r.month)||!J(r.day),o=a||i,l=r.weekYear||r.weekNumber;if((o||s)&&l)throw new sr("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(i&&s)throw new sr("Can't mix ordinal dates with month/day");let c;n?c=Ki({...fa(this.c),...r}):J(r.ordinal)?(c={...this.toObject(),...r},J(r.day)&&(c.day=Math.min(is(c.year,c.month),c.day))):c=Xi({...Gs(this.c),...r});let[m,w]=ns(c,this.o,this.zone);return nr(this,{ts:m,o:w})}plus(e){if(!this.isValid)return this;let r=N.fromDurationLike(e);return nr(this,to(this,r))}minus(e){if(!this.isValid)return this;let r=N.fromDurationLike(e).negate();return nr(this,to(this,r))}startOf(e){if(!this.isValid)return this;let r={},n=N.normalizeUnit(e);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks"&&(r.weekday=1),n==="quarters"){let s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,r={}){return this.isValid?De.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):Js}toLocaleString(e=as,r={}){return this.isValid?De.create(this.loc.clone(r),e).formatDateTime(this):Js}toLocaleParts(e={}){return this.isValid?De.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;let i=e==="extended",o=Ks(this,i);return o+="T",o+=ro(this,i,r,n,s,a),o}toISODate({format:e="extended"}={}){return this.isValid?Ks(this,e==="extended"):null}toISOWeekDate(){return ts(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:a=!1,format:i="extended"}={}){return this.isValid?(s?"T":"")+ro(this,i==="extended",r,e,n,a):null}toRFC2822(){return ts(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return ts(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Ks(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(r||e)&&(n&&(s+=" "),r?s+="z":e&&(s+="ZZ")),ts(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Js}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return N.invalid("created by diffing an invalid DateTime");let s={locale:this.locale,numberingSystem:this.numberingSystem,...n},a=vd(r).map(N.normalizeUnit),i=e.valueOf()>this.valueOf(),o=i?this:e,l=i?e:this,c=xf(o,l,a,s);return i?c.negate():c}diffNow(e="milliseconds",r={}){return this.diff(M.now(),e,r)}until(e){return this.isValid?ie.fromDateTimes(this,e):this}hasSame(e,r){if(!this.isValid)return!1;let n=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(r)<=n&&n<=s.endOf(r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let r=e.base||M.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0,s=["years","months","days","hours","minutes","seconds"],a=e.unit;return Array.isArray(e.unit)&&(s=e.unit,a=void 0),ao(r,this.plus(n),{...e,numeric:"always",units:s,unit:a})}toRelativeCalendar(e={}){return this.isValid?ao(e.base||M.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(M.isDateTime))throw new Ce("min requires all arguments be DateTimes");return $i(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(M.isDateTime))throw new Ce("max requires all arguments be DateTimes");return $i(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){let{locale:s=null,numberingSystem:a=null}=n,i=te.fromOpts({locale:s,numberingSystem:a,defaultToEN:!0});return Xo(i,e,r)}static fromStringExplain(e,r,n={}){return M.fromFormatExplain(e,r,n)}static get DATE_SHORT(){return as}static get DATE_MED(){return mo}static get DATE_MED_WITH_WEEKDAY(){return sd}static get DATE_FULL(){return po}static get DATE_HUGE(){return ho}static get TIME_SIMPLE(){return Do}static get TIME_WITH_SECONDS(){return yo}static get TIME_WITH_SHORT_OFFSET(){return go}static get TIME_WITH_LONG_OFFSET(){return Fo}static get TIME_24_SIMPLE(){return wo}static get TIME_24_WITH_SECONDS(){return vo}static get TIME_24_WITH_SHORT_OFFSET(){return bo}static get TIME_24_WITH_LONG_OFFSET(){return Po}static get DATETIME_SHORT(){return _o}static get DATETIME_SHORT_WITH_SECONDS(){return Eo}static get DATETIME_MED(){return xo}static get DATETIME_MED_WITH_SECONDS(){return Co}static get DATETIME_MED_WITH_WEEKDAY(){return ad}static get DATETIME_FULL(){return To}static get DATETIME_FULL_WITH_SECONDS(){return So}static get DATETIME_HUGE(){return No}static get DATETIME_HUGE_WITH_SECONDS(){return ko}};function fn(t){if(M.isDateTime(t))return t;if(t&&t.valueOf&&ir(t.valueOf()))return M.fromJSDate(t);if(t&&typeof t=="object")return M.fromObject(t);throw new Ce(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var _a={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},Yf={allowHtml:!0};({..._a,...Yf});var yn=class{value;successful;constructor(e){this.value=e,this.successful=!0}map(e){return new yn(e(this.value))}flatMap(e){return e(this.value)}mapErr(e){return this}bimap(e,r){return this.map(e)}orElse(e){return this.value}cast(){return this}orElseThrow(e){return this.value}},gn=class{error;successful;constructor(e){this.error=e,this.successful=!1}map(e){return this}flatMap(e){return this}mapErr(e){return new gn(e(this.error))}bimap(e,r){return this.mapErr(r)}orElse(e){return e}cast(){return this}orElseThrow(e){throw e?new Error(e(this.error)):new Error(""+this.error)}},ls;(function(t){function e(a){return new yn(a)}t.success=e;function r(a){return new gn(a)}t.failure=r;function n(a,i,o){return a.successful?i.successful?o(a.value,i.value):r(i.error):r(a.error)}t.flatMap2=n;function s(a,i,o){return n(a,i,(l,c)=>e(o(l,c)))}t.map2=s})(ls||(ls={}));var Gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cs={exports:{}};cs.exports;(function(t,e){(function(r,n){t.exports=n()})(typeof self<"u"?self:Gf,function(){return function(r){var n={};function s(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return r[a].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=r,s.c=n,s.d=function(a,i,o){s.o(a,i)||Object.defineProperty(a,i,{configurable:!1,enumerable:!0,get:o})},s.r=function(a){Object.defineProperty(a,"__esModule",{value:!0})},s.n=function(a){var i=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(i,"a",i),i},s.o=function(a,i){return Object.prototype.hasOwnProperty.call(a,i)},s.p="",s(s.s=0)}([function(r,n,s){function a(u){if(!(this instanceof a))return new a(u);this._=u}var i=a.prototype;function o(u,f){for(var p=0;p<u;p++)f(p)}function l(u,f,p){return function(D,P){o(P.length,function(_){D(P[_],_,P)})}(function(D,P,_){f=u(f,D,P,_)},p),f}function c(u,f){return l(function(p,D,P,_){return p.concat([u(D,P,_)])},[],f)}function m(u,f){var p={v:0,buf:f};return o(u,function(){var D;p={v:p.v<<1|(D=p.buf,D[0]>>7),buf:function(P){var _=l(function(E,V,ne,we){return E.concat(ne===we.length-1?Buffer.from([V,0]).readUInt16BE(0):we.readUInt16BE(ne))},[],P);return Buffer.from(c(function(E){return(E<<1&65535)>>8},_))}(p.buf)}}),p}function w(){return typeof Buffer<"u"}function F(){if(!w())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function g(u){F();var f=l(function(_,E){return _+E},0,u);if(f%8!=0)throw new Error("The bits ["+u.join(", ")+"] add up to "+f+" which is not an even number of bytes; the total should be divisible by 8");var p,D=f/8,P=(p=function(_){return _>48},l(function(_,E){return _||(p(E)?E:_)},null,u));if(P)throw new Error(P+" bit range requested exceeds 48 bit (6 byte) Number max.");return new a(function(_,E){var V=D+E;return V>_.length?$(E,D.toString()+" bytes"):A(V,l(function(ne,we){var ye=m(we,ne.buf);return{coll:ne.coll.concat(ye.v),buf:ye.buf}},{coll:[],buf:_.slice(E,V)},u).coll)})}function x(u,f){return new a(function(p,D){return F(),D+f>p.length?$(D,f+" bytes for "+u):A(D+f,p.slice(D,D+f))})}function L(u,f){if(typeof(p=f)!="number"||Math.floor(p)!==p||f<0||f>6)throw new Error(u+" requires integer length in range [0, 6].");var p}function j(u){return L("uintBE",u),x("uintBE("+u+")",u).map(function(f){return f.readUIntBE(0,u)})}function Q(u){return L("uintLE",u),x("uintLE("+u+")",u).map(function(f){return f.readUIntLE(0,u)})}function Pe(u){return L("intBE",u),x("intBE("+u+")",u).map(function(f){return f.readIntBE(0,u)})}function _e(u){return L("intLE",u),x("intLE("+u+")",u).map(function(f){return f.readIntLE(0,u)})}function v(u){return u instanceof a}function Z(u){return{}.toString.call(u)==="[object Array]"}function ce(u){return w()&&Buffer.isBuffer(u)}function A(u,f){return{status:!0,index:u,value:f,furthest:-1,expected:[]}}function $(u,f){return Z(f)||(f=[f]),{status:!1,index:-1,value:null,furthest:u,expected:f}}function re(u,f){if(!f||u.furthest>f.furthest)return u;var p=u.furthest===f.furthest?function(D,P){if(function(){if(a._supportsSet!==void 0)return a._supportsSet;var pt=typeof Set<"u";return a._supportsSet=pt,pt}()&&Array.from){for(var _=new Set(D),E=0;E<P.length;E++)_.add(P[E]);var V=Array.from(_);return V.sort(),V}for(var ne={},we=0;we<D.length;we++)ne[D[we]]=!0;for(var ye=0;ye<P.length;ye++)ne[P[ye]]=!0;var mt=[];for(var Te in ne)({}).hasOwnProperty.call(ne,Te)&&mt.push(Te);return mt.sort(),mt}(u.expected,f.expected):f.expected;return{status:u.status,index:u.index,value:u.value,furthest:f.furthest,expected:p}}var je={};function $r(u,f){if(ce(u))return{offset:f,line:-1,column:-1};u in je||(je[u]={});for(var p=je[u],D=0,P=0,_=0,E=f;E>=0;){if(E in p){D=p[E].line,_===0&&(_=p[E].lineStart);break}(u.charAt(E)===`
`||u.charAt(E)==="\r"&&u.charAt(E+1)!==`
`)&&(P++,_===0&&(_=E+1)),E--}var V=D+P,ne=f-_;return p[f]={line:V,lineStart:_},{offset:f,line:V+1,column:ne+1}}function dt(u){if(!v(u))throw new Error("not a parser: "+u)}function Bt(u,f){return typeof u=="string"?u.charAt(f):u[f]}function rt(u){if(typeof u!="number")throw new Error("not a number: "+u)}function ze(u){if(typeof u!="function")throw new Error("not a function: "+u)}function _t(u){if(typeof u!="string")throw new Error("not a string: "+u)}var Cn=2,Ur=3,Ve=8,Tn=5*Ve,$e=4*Ve,Et="  ";function Sn(u,f){return new Array(f+1).join(u)}function Nn(u,f,p){var D=f-u.length;return D<=0?u:Sn(p,D)+u}function ka(u,f,p,D){return{from:u-f>0?u-f:0,to:u+p>D?D:u+p}}function al(u,f){var p,D,P,_,E,V=f.index,ne=V.offset,we=1;if(ne===u.length)return"Got the end of the input";if(ce(u)){var ye=ne-ne%Ve,mt=ne-ye,Te=ka(ye,Tn,$e+Ve,u.length),pt=c(function(fe){return c(function(lr){return Nn(lr.toString(16),2,"0")},fe)},function(fe,lr){var cr=fe.length,jt=[],dr=0;if(cr<=lr)return[fe.slice()];for(var fr=0;fr<cr;fr++)jt[dr]||jt.push([]),jt[dr].push(fe[fr]),(fr+1)%lr==0&&dr++;return jt}(u.slice(Te.from,Te.to).toJSON().data,Ve));_=function(fe){return fe.from===0&&fe.to===1?{from:fe.from,to:fe.to}:{from:fe.from/Ve,to:Math.floor(fe.to/Ve)}}(Te),D=ye/Ve,p=3*mt,mt>=4&&(p+=1),we=2,P=c(function(fe){return fe.length<=4?fe.join(" "):fe.slice(0,4).join(" ")+"  "+fe.slice(4).join(" ")},pt),(E=(8*(_.to>0?_.to-1:_.to)).toString(16).length)<2&&(E=2)}else{var ur=u.split(/\r\n|[\n\r\u2028\u2029]/);p=V.column-1,D=V.line-1,_=ka(D,Cn,Ur,ur.length),P=ur.slice(_.from,_.to),E=_.to.toString().length}var hl=D-_.from;return ce(u)&&(E=(8*(_.to>0?_.to-1:_.to)).toString(16).length)<2&&(E=2),l(function(fe,lr,cr){var jt,dr=cr===hl,fr=dr?"> ":Et;return jt=ce(u)?Nn((8*(_.from+cr)).toString(16),E,"0"):Nn((_.from+cr+1).toString(),E," "),[].concat(fe,[fr+jt+" | "+lr],dr?[Et+Sn(" ",E)+" | "+Nn("",p," ")+Sn("^",we)]:[])},[],P).join(`
`)}function Oa(u,f){return[`
`,"-- PARSING FAILED "+Sn("-",50),`

`,al(u,f),`

`,(p=f.expected,p.length===1?`Expected:

`+p[0]:`Expected one of the following: 

`+p.join(", ")),`
`].join("");var p}function Aa(u){return u.flags!==void 0?u.flags:[u.global?"g":"",u.ignoreCase?"i":"",u.multiline?"m":"",u.unicode?"u":"",u.sticky?"y":""].join("")}function kn(){for(var u=[].slice.call(arguments),f=u.length,p=0;p<f;p+=1)dt(u[p]);return a(function(D,P){for(var _,E=new Array(f),V=0;V<f;V+=1){if(!(_=re(u[V]._(D,P),_)).status)return _;E[V]=_.value,P=_.index}return re(A(P,E),_)})}function Lt(){var u=[].slice.call(arguments);if(u.length===0)throw new Error("seqMap needs at least one argument");var f=u.pop();return ze(f),kn.apply(null,u).map(function(p){return f.apply(null,p)})}function On(){var u=[].slice.call(arguments),f=u.length;if(f===0)return An("zero alternates");for(var p=0;p<f;p+=1)dt(u[p]);return a(function(D,P){for(var _,E=0;E<u.length;E+=1)if((_=re(u[E]._(D,P),_)).status)return _;return _})}function Ra(u,f){return vs(u,f).or(Ht([]))}function vs(u,f){return dt(u),dt(f),Lt(u,f.then(u).many(),function(p,D){return[p].concat(D)})}function Wr(u){_t(u);var f="'"+u+"'";return a(function(p,D){var P=D+u.length,_=p.slice(D,P);return _===u?A(P,_):$(D,f)})}function ft(u,f){(function(P){if(!(P instanceof RegExp))throw new Error("not a regexp: "+P);for(var _=Aa(P),E=0;E<_.length;E++){var V=_.charAt(E);if(V!=="i"&&V!=="m"&&V!=="u"&&V!=="s")throw new Error('unsupported regexp flag "'+V+'": '+P)}})(u),arguments.length>=2?rt(f):f=0;var p=function(P){return RegExp("^(?:"+P.source+")",Aa(P))}(u),D=""+u;return a(function(P,_){var E=p.exec(P.slice(_));if(E){if(0<=f&&f<=E.length){var V=E[0],ne=E[f];return A(_+V.length,ne)}return $(_,"valid match group (0 to "+E.length+") in "+D)}return $(_,D)})}function Ht(u){return a(function(f,p){return A(p,u)})}function An(u){return a(function(f,p){return $(p,u)})}function Rn(u){if(v(u))return a(function(f,p){var D=u._(f,p);return D.index=p,D.value="",D});if(typeof u=="string")return Rn(Wr(u));if(u instanceof RegExp)return Rn(ft(u));throw new Error("not a string, regexp, or parser: "+u)}function Ma(u){return dt(u),a(function(f,p){var D=u._(f,p),P=f.slice(p,D.index);return D.status?$(p,'not "'+P+'"'):A(p,null)})}function Mn(u){return ze(u),a(function(f,p){var D=Bt(f,p);return p<f.length&&u(D)?A(p+1,D):$(p,"a character/byte matching "+u)})}function Ia(u,f){arguments.length<2&&(f=u,u=void 0);var p=a(function(D,P){return p._=f()._,p._(D,P)});return u?p.desc(u):p}function bs(){return An("fantasy-land/empty")}i.parse=function(u){if(typeof u!="string"&&!ce(u))throw new Error(".parse must be called with a string or Buffer as its argument");var f,p=this.skip(Ps)._(u,0);return f=p.status?{status:!0,value:p.value}:{status:!1,index:$r(u,p.furthest),expected:p.expected},delete je[u],f},i.tryParse=function(u){var f=this.parse(u);if(f.status)return f.value;var p=Oa(u,f),D=new Error(p);throw D.type="ParsimmonError",D.result=f,D},i.assert=function(u,f){return this.chain(function(p){return u(p)?Ht(p):An(f)})},i.or=function(u){return On(this,u)},i.trim=function(u){return this.wrap(u,u)},i.wrap=function(u,f){return Lt(u,this,f,function(p,D){return D})},i.thru=function(u){return u(this)},i.then=function(u){return dt(u),kn(this,u).map(function(f){return f[1]})},i.many=function(){var u=this;return a(function(f,p){for(var D=[],P=void 0;;){if(!(P=re(u._(f,p),P)).status)return re(A(p,D),P);if(p===P.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");p=P.index,D.push(P.value)}})},i.tieWith=function(u){return _t(u),this.map(function(f){if(function(P){if(!Z(P))throw new Error("not an array: "+P)}(f),f.length){_t(f[0]);for(var p=f[0],D=1;D<f.length;D++)_t(f[D]),p+=u+f[D];return p}return""})},i.tie=function(){return this.tieWith("")},i.times=function(u,f){var p=this;return arguments.length<2&&(f=u),rt(u),rt(f),a(function(D,P){for(var _=[],E=void 0,V=void 0,ne=0;ne<u;ne+=1){if(V=re(E=p._(D,P),V),!E.status)return V;P=E.index,_.push(E.value)}for(;ne<f&&(V=re(E=p._(D,P),V),E.status);ne+=1)P=E.index,_.push(E.value);return re(A(P,_),V)})},i.result=function(u){return this.map(function(){return u})},i.atMost=function(u){return this.times(0,u)},i.atLeast=function(u){return Lt(this.times(u),this.many(),function(f,p){return f.concat(p)})},i.map=function(u){ze(u);var f=this;return a(function(p,D){var P=f._(p,D);return P.status?re(A(P.index,u(P.value)),P):P})},i.contramap=function(u){ze(u);var f=this;return a(function(p,D){var P=f.parse(u(p.slice(D)));return P.status?A(D+p.length,P.value):P})},i.promap=function(u,f){return ze(u),ze(f),this.contramap(u).map(f)},i.skip=function(u){return kn(this,u).map(function(f){return f[0]})},i.mark=function(){return Lt(Zr,this,Zr,function(u,f,p){return{start:u,value:f,end:p}})},i.node=function(u){return Lt(Zr,this,Zr,function(f,p,D){return{name:u,value:p,start:f,end:D}})},i.sepBy=function(u){return Ra(this,u)},i.sepBy1=function(u){return vs(this,u)},i.lookahead=function(u){return this.skip(Rn(u))},i.notFollowedBy=function(u){return this.skip(Ma(u))},i.desc=function(u){Z(u)||(u=[u]);var f=this;return a(function(p,D){var P=f._(p,D);return P.status||(P.expected=u),P})},i.fallback=function(u){return this.or(Ht(u))},i.ap=function(u){return Lt(u,this,function(f,p){return f(p)})},i.chain=function(u){var f=this;return a(function(p,D){var P=f._(p,D);return P.status?re(u(P.value)._(p,P.index),P):P})},i.concat=i.or,i.empty=bs,i.of=Ht,i["fantasy-land/ap"]=i.ap,i["fantasy-land/chain"]=i.chain,i["fantasy-land/concat"]=i.concat,i["fantasy-land/empty"]=i.empty,i["fantasy-land/of"]=i.of,i["fantasy-land/map"]=i.map;var Zr=a(function(u,f){return A(f,$r(u,f))}),il=a(function(u,f){return f>=u.length?$(f,"any character/byte"):A(f+1,Bt(u,f))}),ol=a(function(u,f){return A(u.length,u.slice(f))}),Ps=a(function(u,f){return f<u.length?$(f,"EOF"):A(f,null)}),ul=ft(/[0-9]/).desc("a digit"),ll=ft(/[0-9]*/).desc("optional digits"),cl=ft(/[a-z]/i).desc("a letter"),dl=ft(/[a-z]*/i).desc("optional letters"),fl=ft(/\s*/).desc("optional whitespace"),ml=ft(/\s+/).desc("whitespace"),Ba=Wr("\r"),La=Wr(`
`),Ha=Wr(`\r
`),ja=On(Ha,La,Ba).desc("newline"),pl=On(ja,Ps);a.all=ol,a.alt=On,a.any=il,a.cr=Ba,a.createLanguage=function(u){var f={};for(var p in u)({}).hasOwnProperty.call(u,p)&&function(D){f[D]=Ia(function(){return u[D](f)})}(p);return f},a.crlf=Ha,a.custom=function(u){return a(u(A,$))},a.digit=ul,a.digits=ll,a.empty=bs,a.end=pl,a.eof=Ps,a.fail=An,a.formatError=Oa,a.index=Zr,a.isParser=v,a.lazy=Ia,a.letter=cl,a.letters=dl,a.lf=La,a.lookahead=Rn,a.makeFailure=$,a.makeSuccess=A,a.newline=ja,a.noneOf=function(u){return Mn(function(f){return u.indexOf(f)<0}).desc("none of '"+u+"'")},a.notFollowedBy=Ma,a.of=Ht,a.oneOf=function(u){for(var f=u.split(""),p=0;p<f.length;p++)f[p]="'"+f[p]+"'";return Mn(function(D){return u.indexOf(D)>=0}).desc(f)},a.optWhitespace=fl,a.Parser=a,a.range=function(u,f){return Mn(function(p){return u<=p&&p<=f}).desc(u+"-"+f)},a.regex=ft,a.regexp=ft,a.sepBy=Ra,a.sepBy1=vs,a.seq=kn,a.seqMap=Lt,a.seqObj=function(){for(var u,f={},p=0,D=(u=arguments,Array.prototype.slice.call(u)),P=D.length,_=0;_<P;_+=1){var E=D[_];if(!v(E)){if(Z(E)&&E.length===2&&typeof E[0]=="string"&&v(E[1])){var V=E[0];if(Object.prototype.hasOwnProperty.call(f,V))throw new Error("seqObj: duplicate key "+V);f[V]=!0,p++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(p===0)throw new Error("seqObj expects at least one named parser, found zero");return a(function(ne,we){for(var ye,mt={},Te=0;Te<P;Te+=1){var pt,ur;if(Z(D[Te])?(pt=D[Te][0],ur=D[Te][1]):(pt=null,ur=D[Te]),!(ye=re(ur._(ne,we),ye)).status)return ye;pt&&(mt[pt]=ye.value),we=ye.index}return re(A(we,mt),ye)})},a.string=Wr,a.succeed=Ht,a.takeWhile=function(u){return ze(u),a(function(f,p){for(var D=p;D<f.length&&u(Bt(f,D));)D++;return A(D,f.slice(p,D))})},a.test=Mn,a.whitespace=ml,a["fantasy-land/empty"]=bs,a["fantasy-land/of"]=Ht,a.Binary={bitSeq:g,bitSeqObj:function(u){F();var f={},p=0,D=c(function(_){if(Z(_)){var E=_;if(E.length!==2)throw new Error("["+E.join(", ")+"] should be length 2, got length "+E.length);if(_t(E[0]),rt(E[1]),Object.prototype.hasOwnProperty.call(f,E[0]))throw new Error("duplicate key in bitSeqObj: "+E[0]);return f[E[0]]=!0,p++,E}return rt(_),[null,_]},u);if(p<1)throw new Error("bitSeqObj expects at least one named pair, got ["+u.join(", ")+"]");var P=c(function(_){return _[0]},D);return g(c(function(_){return _[1]},D)).map(function(_){return l(function(E,V){return V[0]!==null&&(E[V[0]]=V[1]),E},{},c(function(E,V){return[E,_[V]]},P))})},byte:function(u){if(F(),rt(u),u>255)throw new Error("Value specified to byte constructor ("+u+"=0x"+u.toString(16)+") is larger in value than a single byte.");var f=(u>15?"0x":"0x0")+u.toString(16);return a(function(p,D){var P=Bt(p,D);return P===u?A(D+1,P):$(D,f)})},buffer:function(u){return x("buffer",u).map(function(f){return Buffer.from(f)})},encodedString:function(u,f){return x("string",f).map(function(p){return p.toString(u)})},uintBE:j,uint8BE:j(1),uint16BE:j(2),uint32BE:j(4),uintLE:Q,uint8LE:Q(1),uint16LE:Q(2),uint32LE:Q(4),intBE:Pe,int8BE:Pe(1),int16BE:Pe(2),int32BE:Pe(4),intLE:_e,int8LE:_e(1),int16LE:_e(2),int32LE:_e(4),floatBE:x("floatBE",4).map(function(u){return u.readFloatBE(0)}),floatLE:x("floatLE",4).map(function(u){return u.readFloatLE(0)}),doubleBE:x("doubleBE",8).map(function(u){return u.readDoubleBE(0)}),doubleLE:x("doubleLE",8).map(function(u){return u.readDoubleLE(0)})},r.exports=a}])})})(cs,cs.exports);var d=cs.exports,Ea=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC08\uDC26](?:\u200D\u2B1B)?|[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;function du(t){return t==null?t:t.shiftToAll().normalize()}function oo(t){return t.includes("/")&&(t=t.substring(t.lastIndexOf("/")+1)),t.endsWith(".md")&&(t=t.substring(0,t.length-3)),t}d.alt(d.regex(new RegExp(Ea(),"")),d.regex(/[0-9\p{Letter}_-]+/u).map(t=>t.toLocaleLowerCase()),d.whitespace.map(t=>"-"),d.any.map(t=>"")).many().map(t=>t.join(""));var Jf=d.alt(d.regex(new RegExp(Ea(),"")),d.regex(/[0-9\p{Letter}_-]+/u),d.whitespace.map(t=>" "),d.any.map(t=>" ")).many().map(t=>t.join("").split(/\s+/).join(" ").trim());function Qf(t){return Jf.tryParse(t)}function Kf(t){return t=du(t),t=N.fromObject(Object.fromEntries(Object.entries(t.toObject()).filter(([,e])=>e!=0))),t.toHuman()}var Fn;(function(t){function e(v,Z=_a,ce=!1){let A=r(v);if(!A)return Z.renderNullAs;switch(A.type){case"null":return Z.renderNullAs;case"string":return A.value;case"number":case"boolean":return""+A.value;case"html":return A.value.outerHTML;case"widget":return A.value.markdown();case"link":return A.value.markdown();case"function":return"<function>";case"array":let $="";return ce&&($+="["),$+=A.value.map(re=>e(re,Z,!0)).join(", "),ce&&($+="]"),$;case"object":return"{ "+Object.entries(A.value).map(re=>re[0]+": "+e(re[1],Z,!0)).join(", ")+" }";case"date":return A.value.second==0&&A.value.hour==0&&A.value.minute==0?A.value.toFormat(Z.defaultDateFormat):A.value.toFormat(Z.defaultDateTimeFormat);case"duration":return Kf(A.value)}}t.toString=e;function r(v){return F(v)?{type:"null",value:v}:c(v)?{type:"number",value:v}:l(v)?{type:"string",value:v}:x(v)?{type:"boolean",value:v}:w(v)?{type:"duration",value:v}:m(v)?{type:"date",value:v}:j(v)?{type:"widget",value:v}:g(v)?{type:"array",value:v}:L(v)?{type:"link",value:v}:_e(v)?{type:"function",value:v}:Q(v)?{type:"html",value:v}:Pe(v)?{type:"object",value:v}:void 0}t.wrapValue=r;function n(v,Z){if(Pe(v)){let ce={};for(let[A,$]of Object.entries(v))ce[A]=n($,Z);return ce}else if(g(v)){let ce=[];for(let A of v)ce.push(n(A,Z));return ce}else return Z(v)}t.mapLeaves=n;function s(v,Z,ce){if(v===void 0&&(v=null),Z===void 0&&(Z=null),v===null&&Z===null)return 0;if(v===null)return-1;if(Z===null)return 1;let A=r(v),$=r(Z);if(A===void 0&&$===void 0)return 0;if(A===void 0)return-1;if($===void 0)return 1;if(A.type!=$.type)return A.type.localeCompare($.type);if(A.value===$.value)return 0;switch(A.type){case"string":return A.value.localeCompare($.value);case"number":return A.value<$.value?-1:A.value==$.value?0:1;case"null":return 0;case"boolean":return A.value==$.value?0:A.value?1:-1;case"link":let re=A.value,je=$.value,$r=ce??($e=>$e),dt=$r(re.path).localeCompare($r(je.path));if(dt!=0)return dt;let Bt=re.type.localeCompare(je.type);return Bt!=0?Bt:re.subpath&&!je.subpath?1:!re.subpath&&je.subpath?-1:!re.subpath&&!je.subpath?0:(re.subpath??"").localeCompare(je.subpath??"");case"date":return A.value<$.value?-1:A.value.equals($.value)?0:1;case"duration":return A.value<$.value?-1:A.value.equals($.value)?0:1;case"array":let rt=A.value,ze=$.value;for(let $e=0;$e<Math.min(rt.length,ze.length);$e++){let Et=s(rt[$e],ze[$e]);if(Et!=0)return Et}return rt.length-ze.length;case"object":let _t=A.value,Cn=$.value,Ur=Array.from(Object.keys(_t)),Ve=Array.from(Object.keys(Cn));Ur.sort(),Ve.sort();let Tn=s(Ur,Ve);if(Tn!=0)return Tn;for(let $e of Ur){let Et=s(_t[$e],Cn[$e]);if(Et!=0)return Et}return 0;case"widget":case"html":case"function":return 0}}t.compareValue=s;function a(v){return r(v)?.type}t.typeOf=a;function i(v){let Z=r(v);if(!Z)return!1;switch(Z.type){case"number":return Z.value!=0;case"string":return Z.value.length>0;case"boolean":return Z.value;case"link":return!!Z.value.path;case"date":return Z.value.toMillis()!=0;case"duration":return Z.value.as("seconds")!=0;case"object":return Object.keys(Z.value).length>0;case"array":return Z.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}t.isTruthy=i;function o(v){if(v==null)return v;if(t.isArray(v))return[].concat(v.map(Z=>o(Z)));if(t.isObject(v)){let Z={};for(let[ce,A]of Object.entries(v))Z[ce]=o(A);return Z}else return v}t.deepCopy=o;function l(v){return typeof v=="string"}t.isString=l;function c(v){return typeof v=="number"}t.isNumber=c;function m(v){return v instanceof M}t.isDate=m;function w(v){return v instanceof N}t.isDuration=w;function F(v){return v==null}t.isNull=F;function g(v){return Array.isArray(v)}t.isArray=g;function x(v){return typeof v=="boolean"}t.isBoolean=x;function L(v){return v instanceof he}t.isLink=L;function j(v){return v instanceof wn}t.isWidget=j;function Q(v){return typeof HTMLElement<"u"?v instanceof HTMLElement:!1}t.isHtml=Q;function Pe(v){return typeof v=="object"&&!Q(v)&&!j(v)&&!g(v)&&!w(v)&&!m(v)&&!L(v)&&v!==void 0&&!F(v)}t.isObject=Pe;function _e(v){return typeof v=="function"}t.isFunction=_e})(Fn||(Fn={}));var uo;(function(t){function e(s){return Fn.isObject(s)&&Object.keys(s).length==2&&"key"in s&&"rows"in s}t.isElementGroup=e;function r(s){for(let a of s)if(!e(a))return!1;return!0}t.isGrouping=r;function n(s){if(r(s)){let a=0;for(let i of s)a+=n(i.rows);return a}else return s.length}t.count=n})(uo||(uo={}));var he=class{path;display;subpath;embed;type;static file(e,r=!1,n){return new he({path:e,embed:r,display:n,subpath:void 0,type:"file"})}static infer(e,r=!1,n){if(e.includes("#^")){let s=e.split("#^");return he.block(s[0],s[1],r,n)}else if(e.includes("#")){let s=e.split("#");return he.header(s[0],s[1],r,n)}else return he.file(e,r,n)}static header(e,r,n,s){return new he({path:e,embed:n,display:s,subpath:Qf(r),type:"header"})}static block(e,r,n,s){return new he({path:e,embed:n,display:s,subpath:r,type:"block"})}static fromObject(e){return new he(e)}constructor(e){Object.assign(this,e)}equals(e){return e==null||e==null?!1:this.path==e.path&&this.type==e.type&&this.subpath==e.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(e){return new he(Object.assign({},this,{path:e}))}withDisplay(e){return new he(Object.assign({},this,{display:e}))}withHeader(e){return he.header(this.path,e,this.embed,this.display)}toFile(){return he.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let e=new he(this);return e.embed=!0,e}}fromEmbed(){if(this.embed){let e=new he(this);return e.embed=!1,e}else return this}markdown(){let e=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?e+="|"+this.display:(e+="|"+oo(this.path),(this.type=="header"||this.type=="block")&&(e+=" > "+this.subpath)),e+="]]",e}obsidianLink(){let e=this.path.replaceAll("|","\\|");return this.type=="header"?e+"#"+this.subpath?.replaceAll("|","\\|"):this.type=="block"?e+"#^"+this.subpath?.replaceAll("|","\\|"):e}fileName(){return oo(this.path).replace(".md","")}},wn=class{$widget;constructor(e){this.$widget=e}},ma=class extends wn{key;value;constructor(e,r){super("dataview:list-pair"),this.key=e,this.value=r}markdown(){return`${Fn.toString(this.key)}: ${Fn.toString(this.value)}`}},pa=class extends wn{url;display;constructor(e,r){super("dataview:external-link"),this.url=e,this.display=r}markdown(){return`[${this.display??this.url}](${this.url})`}},lo;(function(t){function e(i,o){return new ma(i,o)}t.listPair=e;function r(i,o){return new pa(i,o)}t.externalLink=r;function n(i){return i.$widget==="dataview:list-pair"}t.isListPair=n;function s(i){return i.$widget==="dataview:external-link"}t.isExternalLink=s;function a(i){return n(i)||s(i)}t.isBuiltin=a})(lo||(lo={}));var ue;(function(t){function e(F){return{type:"variable",name:F}}t.variable=e;function r(F){return{type:"literal",value:F}}t.literal=r;function n(F,g,x){return{type:"binaryop",left:F,op:g,right:x}}t.binaryOp=n;function s(F,g){return{type:"index",object:F,index:g}}t.index=s;function a(F){let g=F.split("."),x=t.variable(g[0]);for(let L=1;L<g.length;L++)x=t.index(x,t.literal(g[L]));return x}t.indexVariable=a;function i(F,g){return{type:"lambda",arguments:F,value:g}}t.lambda=i;function o(F,g){return{type:"function",func:F,arguments:g}}t.func=o;function l(F){return{type:"list",values:F}}t.list=l;function c(F){return{type:"object",values:F}}t.object=c;function m(F){return{type:"negated",child:F}}t.negate=m;function w(F){return F=="<="||F=="<"||F==">"||F==">="||F=="!="||F=="="}t.isCompareOp=w,t.NULL=t.literal(null)})(ue||(ue={}));var lt;(function(t){function e(m){return{type:"tag",tag:m}}t.tag=e;function r(m){return{type:"csv",path:m}}t.csv=r;function n(m){return{type:"folder",folder:m}}t.folder=n;function s(m,w){return{type:"link",file:m,direction:w?"incoming":"outgoing"}}t.link=s;function a(m,w,F){return{type:"binaryop",left:m,op:w,right:F}}t.binaryOp=a;function i(m,w){return{type:"binaryop",left:m,op:"&",right:w}}t.and=i;function o(m,w){return{type:"binaryop",left:m,op:"|",right:w}}t.or=o;function l(m){return{type:"negate",child:m}}t.negate=l;function c(){return{type:"empty"}}t.empty=c})(lt||(lt={}));var co=new RegExp(Ea(),""),ha={year:N.fromObject({years:1}),years:N.fromObject({years:1}),yr:N.fromObject({years:1}),yrs:N.fromObject({years:1}),month:N.fromObject({months:1}),months:N.fromObject({months:1}),mo:N.fromObject({months:1}),mos:N.fromObject({months:1}),week:N.fromObject({weeks:1}),weeks:N.fromObject({weeks:1}),wk:N.fromObject({weeks:1}),wks:N.fromObject({weeks:1}),w:N.fromObject({weeks:1}),day:N.fromObject({days:1}),days:N.fromObject({days:1}),d:N.fromObject({days:1}),hour:N.fromObject({hours:1}),hours:N.fromObject({hours:1}),hr:N.fromObject({hours:1}),hrs:N.fromObject({hours:1}),h:N.fromObject({hours:1}),minute:N.fromObject({minutes:1}),minutes:N.fromObject({minutes:1}),min:N.fromObject({minutes:1}),mins:N.fromObject({minutes:1}),m:N.fromObject({minutes:1}),second:N.fromObject({seconds:1}),seconds:N.fromObject({seconds:1}),sec:N.fromObject({seconds:1}),secs:N.fromObject({seconds:1}),s:N.fromObject({seconds:1})},Da={now:()=>M.local(),today:()=>M.local().startOf("day"),yesterday:()=>M.local().startOf("day").minus(N.fromObject({days:1})),tomorrow:()=>M.local().startOf("day").plus(N.fromObject({days:1})),sow:()=>M.local().startOf("week"),"start-of-week":()=>M.local().startOf("week"),eow:()=>M.local().endOf("week"),"end-of-week":()=>M.local().endOf("week"),soy:()=>M.local().startOf("year"),"start-of-year":()=>M.local().startOf("year"),eoy:()=>M.local().endOf("year"),"end-of-year":()=>M.local().endOf("year"),som:()=>M.local().startOf("month"),"start-of-month":()=>M.local().startOf("month"),eom:()=>M.local().endOf("month"),"end-of-month":()=>M.local().endOf("month")},ya=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function Xf(t){let e=-1;for(;(e=t.indexOf("|",e+1))>=0;)if(!(e>0&&t[e-1]=="\\"))return[t.substring(0,e).replace(/\\\|/g,"|"),t.substring(e+1)];return[t.replace(/\\\|/g,"|"),void 0]}function em(t){let[e,r]=Xf(t);return he.infer(e,!1,r)}function mn(t,e,r){return d.seqMap(t,d.seq(d.optWhitespace,e,d.optWhitespace,t).many(),(n,s)=>{if(s.length==0)return n;let a=r(n,s[0][1],s[0][3]);for(let i=1;i<s.length;i++)a=r(a,s[i][1],s[i][3]);return a})}function tm(t,...e){return d.custom((r,n)=>(s,a)=>{let i=t._(s,a);if(!i.status)return i;for(let o of e){let l=o(i.value)._(s,i.index);if(!l.status)return i;i=l}return i})}var Ke=d.createLanguage({number:t=>d.regexp(/-?[0-9]+(\.[0-9]+)?/).map(e=>Number.parseFloat(e)).desc("number"),string:t=>d.string('"').then(d.alt(t.escapeCharacter,d.noneOf('"\\')).atLeast(0).map(e=>e.join(""))).skip(d.string('"')).desc("string"),escapeCharacter:t=>d.string("\\").then(d.any).map(e=>e==='"'?'"':e==="\\"?"\\":"\\"+e),bool:t=>d.regexp(/true|false|True|False/).map(e=>e.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:t=>d.seqMap(d.string("#"),d.alt(d.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(e,r)=>e+r.join("")).desc("tag ('#hello/stuff')"),identifier:t=>d.seqMap(d.alt(d.regexp(/\p{Letter}/u),d.regexp(co).desc("text")),d.alt(d.regexp(/[0-9\p{Letter}_-]/u),d.regexp(co).desc("text")).many(),(e,r)=>e+r.join("")).desc("variable identifier"),link:t=>d.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(e=>em(e)).desc("file link"),embedLink:t=>d.seqMap(d.string("!").atMost(1),t.link,(e,r)=>(e.length>0&&(r.embed=!0),r)).desc("file link"),binaryPlusMinus:t=>d.regexp(/\+|-/).map(e=>e).desc("'+' or '-'"),binaryMulDiv:t=>d.regexp(/\*|\/|%/).map(e=>e).desc("'*' or '/' or '%'"),binaryCompareOp:t=>d.regexp(/>=|<=|!=|>|<|=/).map(e=>e).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:t=>d.regexp(/and|or|&|\|/i).map(e=>e.toLowerCase()=="and"?"&":e.toLowerCase()=="or"?"|":e).desc("'and' or 'or'"),rootDate:t=>d.seqMap(d.regexp(/\d{4}/),d.string("-"),d.regexp(/\d{2}/),(e,r,n)=>M.fromObject({year:Number.parseInt(e),month:Number.parseInt(n)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:t=>d.alt(...Object.keys(Da).sort((e,r)=>r.length-e.length).map(d.string)),date:t=>tm(t.rootDate,e=>d.seqMap(d.string("-"),d.regexp(/\d{2}/),(r,n)=>e.set({day:Number.parseInt(n)})),e=>d.seqMap(d.string("T"),d.regexp(/\d{2}/),(r,n)=>e.set({hour:Number.parseInt(n)})),e=>d.seqMap(d.string(":"),d.regexp(/\d{2}/),(r,n)=>e.set({minute:Number.parseInt(n)})),e=>d.seqMap(d.string(":"),d.regexp(/\d{2}/),(r,n)=>e.set({second:Number.parseInt(n)})),e=>d.alt(d.seqMap(d.string("."),d.regexp(/\d{3}/),(r,n)=>e.set({millisecond:Number.parseInt(n)})),d.succeed(e)),e=>d.alt(d.seqMap(d.string("+").or(d.string("-")),d.regexp(/\d{1,2}(:\d{2})?/),(r,n)=>e.setZone("UTC"+r+n,{keepLocalTime:!0})),d.seqMap(d.string("Z"),()=>e.setZone("utc",{keepLocalTime:!0})),d.seqMap(d.string("["),d.regexp(/[0-9A-Za-z+-\/]+/u),d.string("]"),(r,n,s)=>e.setZone(n,{keepLocalTime:!0})))).assert(e=>e.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:t=>d.alt(t.dateShorthand.map(e=>Da[e]()),t.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:t=>d.alt(...Object.keys(ha).sort((e,r)=>r.length-e.length).map(d.string)),duration:t=>d.seqMap(t.number,d.optWhitespace,t.durationType,(e,r,n)=>ha[n].mapUnits(s=>s*e)).sepBy1(d.string(",").trim(d.optWhitespace).or(d.optWhitespace)).map(e=>e.reduce((r,n)=>r.plus(n))).desc("duration like 4hr2min"),rawNull:t=>d.string("null"),tagSource:t=>t.tag.map(e=>lt.tag(e)),csvSource:t=>d.seqMap(d.string("csv(").skip(d.optWhitespace),t.string,d.string(")"),(e,r,n)=>lt.csv(r)),linkIncomingSource:t=>t.link.map(e=>lt.link(e.path,!0)),linkOutgoingSource:t=>d.seqMap(d.string("outgoing(").skip(d.optWhitespace),t.link,d.string(")"),(e,r,n)=>lt.link(r.path,!1)),folderSource:t=>t.string.map(e=>lt.folder(e)),parensSource:t=>d.seqMap(d.string("("),d.optWhitespace,t.source,d.optWhitespace,d.string(")"),(e,r,n,s,a)=>n),negateSource:t=>d.seqMap(d.alt(d.string("-"),d.string("!")),t.atomSource,(e,r)=>lt.negate(r)),atomSource:t=>d.alt(t.parensSource,t.negateSource,t.linkOutgoingSource,t.linkIncomingSource,t.folderSource,t.tagSource,t.csvSource),binaryOpSource:t=>mn(t.atomSource,t.binaryBooleanOp.map(e=>e),lt.binaryOp),source:t=>t.binaryOpSource,variableField:t=>t.identifier.chain(e=>ya.includes(e.toUpperCase())?d.fail("Variable fields cannot be a keyword ("+ya.join(" or ")+")"):d.succeed(ue.variable(e))).desc("variable"),numberField:t=>t.number.map(e=>ue.literal(e)).desc("number"),stringField:t=>t.string.map(e=>ue.literal(e)).desc("string"),boolField:t=>t.bool.map(e=>ue.literal(e)).desc("boolean"),dateField:t=>d.seqMap(d.string("date("),d.optWhitespace,t.datePlus,d.optWhitespace,d.string(")"),(e,r,n,s,a)=>ue.literal(n)).desc("date"),durationField:t=>d.seqMap(d.string("dur("),d.optWhitespace,t.duration,d.optWhitespace,d.string(")"),(e,r,n,s,a)=>ue.literal(n)).desc("duration"),nullField:t=>t.rawNull.map(e=>ue.NULL),linkField:t=>t.link.map(e=>ue.literal(e)),listField:t=>t.field.sepBy(d.string(",").trim(d.optWhitespace)).wrap(d.string("[").skip(d.optWhitespace),d.optWhitespace.then(d.string("]"))).map(e=>ue.list(e)).desc("list ('[1, 2, 3]')"),objectField:t=>d.seqMap(t.identifier.or(t.string),d.string(":").trim(d.optWhitespace),t.field,(e,r,n)=>({name:e,value:n})).sepBy(d.string(",").trim(d.optWhitespace)).wrap(d.string("{").skip(d.optWhitespace),d.optWhitespace.then(d.string("}"))).map(e=>{let r={};for(let n of e)r[n.name]=n.value;return ue.object(r)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:t=>d.alt(t.date,t.duration.map(e=>du(e)),t.string,t.tag,t.embedLink,t.bool,t.number,t.rawNull),inlineFieldList:t=>t.atomInlineField.sepBy(d.string(",").trim(d.optWhitespace).lookahead(t.atomInlineField)),inlineField:t=>d.alt(d.seqMap(t.atomInlineField,d.string(",").trim(d.optWhitespace),t.inlineFieldList,(e,r,n)=>[e].concat(n)),t.atomInlineField),atomField:t=>d.alt(t.embedLink.map(e=>ue.literal(e)),t.negatedField,t.linkField,t.listField,t.objectField,t.lambdaField,t.parensField,t.boolField,t.numberField,t.stringField,t.dateField,t.durationField,t.nullField,t.variableField),indexField:t=>d.seqMap(t.atomField,d.alt(t.dotPostfix,t.indexPostfix,t.functionPostfix).many(),(e,r)=>{let n=e;for(let s of r)switch(s.type){case"dot":n=ue.index(n,ue.literal(s.field));break;case"index":n=ue.index(n,s.field);break;case"function":n=ue.func(n,s.fields);break}return n}),negatedField:t=>d.seqMap(d.string("!"),t.indexField,(e,r)=>ue.negate(r)).desc("negated field"),parensField:t=>d.seqMap(d.string("("),d.optWhitespace,t.field,d.optWhitespace,d.string(")"),(e,r,n,s,a)=>n),lambdaField:t=>d.seqMap(t.identifier.sepBy(d.string(",").trim(d.optWhitespace)).wrap(d.string("(").trim(d.optWhitespace),d.string(")").trim(d.optWhitespace)),d.string("=>").trim(d.optWhitespace),t.field,(e,r,n)=>({type:"lambda",arguments:e,value:n})),dotPostfix:t=>d.seqMap(d.string("."),t.identifier,(e,r)=>({type:"dot",field:r})),indexPostfix:t=>d.seqMap(d.string("["),d.optWhitespace,t.field,d.optWhitespace,d.string("]"),(e,r,n,s,a)=>({type:"index",field:n})),functionPostfix:t=>d.seqMap(d.string("("),d.optWhitespace,t.field.sepBy(d.string(",").trim(d.optWhitespace)),d.optWhitespace,d.string(")"),(e,r,n,s,a)=>({type:"function",fields:n})),binaryMulDivField:t=>mn(t.indexField,t.binaryMulDiv,ue.binaryOp),binaryPlusMinusField:t=>mn(t.binaryMulDivField,t.binaryPlusMinus,ue.binaryOp),binaryCompareField:t=>mn(t.binaryPlusMinusField,t.binaryCompareOp,ue.binaryOp),binaryBooleanField:t=>mn(t.binaryCompareField,t.binaryBooleanOp,ue.binaryOp),binaryOpField:t=>t.binaryBooleanField,field:t=>t.binaryOpField});function rm(t){try{return ls.success(Ke.field.tryParse(t))}catch(e){return ls.failure(""+e)}}var ds;(function(t){function e(n,s){return{name:n,field:s}}t.named=e;function r(n,s){return{field:n,direction:s}}t.sortBy=r})(ds||(ds={}));function nm(t){return d.custom((e,r)=>(n,s)=>{let a=t._(n,s);return a.status?Object.assign({},a,{value:[a.value,n.substring(s,a.index)]}):a})}function sm(t){return t.split(/[\r\n]+/).map(e=>e.trim()).join("")}function fo(t,e){return d.eof.map(t).or(d.whitespace.then(e))}var fu=d.createLanguage({queryType:t=>d.alt(d.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(e=>e.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:t=>d.seqMap(Ke.field.skip(d.whitespace),d.regexp(/AS/i).skip(d.whitespace),Ke.identifier.or(Ke.string),(e,r,n)=>ds.named(n,e)),comment:()=>d.Parser((t,e)=>{let r=t.substring(e);if(!r.startsWith("//"))return d.makeFailure(e,"Not a comment");r=r.split(`
`)[0];let n=r.substring(2).trim();return d.makeSuccess(e+r.length,n)}),namedField:t=>d.alt(t.explicitNamedField,nm(Ke.field).map(([e,r])=>ds.named(sm(r),e))),sortField:t=>d.seqMap(Ke.field.skip(d.optWhitespace),d.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(e,r)=>{let n=r.length==0?"ascending":r[0].toLowerCase();return n=="desc"&&(n="descending"),n=="asc"&&(n="ascending"),{field:e,direction:n}}),headerClause:t=>t.queryType.chain(e=>{switch(e){case"table":return fo(()=>({type:e,fields:[],showId:!0}),d.seqMap(d.regexp(/WITHOUT\s+ID/i).skip(d.optWhitespace).atMost(1),d.sepBy(t.namedField,d.string(",").trim(d.optWhitespace)),(r,n)=>({type:e,fields:n,showId:r.length==0})));case"list":return fo(()=>({type:e,format:void 0,showId:!0}),d.seqMap(d.regexp(/WITHOUT\s+ID/i).skip(d.optWhitespace).atMost(1),Ke.field.atMost(1),(r,n)=>({type:e,format:n.length==1?n[0]:void 0,showId:r.length==0})));case"task":return d.succeed({type:e});case"calendar":return d.whitespace.then(d.seqMap(t.namedField,r=>({type:e,showId:!0,field:r})));default:return d.fail(`Unrecognized query type '${e}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:t=>d.seqMap(d.regexp(/FROM/i),d.whitespace,Ke.source,(e,r,n)=>n),whereClause:t=>d.seqMap(d.regexp(/WHERE/i),d.whitespace,Ke.field,(e,r,n)=>({type:"where",clause:n})).desc("WHERE <expression>"),sortByClause:t=>d.seqMap(d.regexp(/SORT/i),d.whitespace,t.sortField.sepBy1(d.string(",").trim(d.optWhitespace)),(e,r,n)=>({type:"sort",fields:n})).desc("SORT field [ASC/DESC]"),limitClause:t=>d.seqMap(d.regexp(/LIMIT/i),d.whitespace,Ke.field,(e,r,n)=>({type:"limit",amount:n})).desc("LIMIT <value>"),flattenClause:t=>d.seqMap(d.regexp(/FLATTEN/i).skip(d.whitespace),t.namedField,(e,r)=>({type:"flatten",field:r})).desc("FLATTEN <value> [AS <name>]"),groupByClause:t=>d.seqMap(d.regexp(/GROUP BY/i).skip(d.whitespace),t.namedField,(e,r)=>({type:"group",field:r})).desc("GROUP BY <value> [AS <name>]"),clause:t=>d.alt(t.fromClause,t.whereClause,t.sortByClause,t.limitClause,t.groupByClause,t.flattenClause),query:t=>d.seqMap(t.headerClause.trim(Xs),t.fromClause.trim(Xs).atMost(1),t.clause.trim(Xs).many(),(e,r,n)=>({header:e,source:r.length==0?lt.folder(""):r[0],operations:n,settings:_a}))}),Xs=d.alt(d.whitespace,fu.comment).many().map(t=>t.join("")),am=t=>t?t.plugins.plugins.dataview?.api:window.DataviewAPI,im=t=>t.plugins.enabledPlugins.has("dataview");ct.DATE_SHORTHANDS=Da;ct.DURATION_TYPES=ha;ct.EXPRESSION=Ke;ct.KEYWORDS=ya;ct.QUERY_LANGUAGE=fu;ct.getAPI=am;ct.isPluginEnabled=im;ct.parseField=rm});var Hp={};vl(Hp,{default:()=>ws});module.exports=bl(Hp);var Vr=require("obsidian");var Ua="actions-uri",C={append_done:"Note was appended",command_not_found:t=>`Unknown command ${t}`,daily_note:{create_note_already_exists:"Daily note already exists",create_note_no_content:"Daily note couldn't be overwritten, no content specified",feature_not_available:"Daily Notes feature is not active"},dataview_dql_must_start_with_list:'DQL must start with "LIST"',dataview_dql_must_start_with_table:'DQL must start with "TABLE"',dataview_plugin_not_available:"Dataview plugin is not active",delete_done:"Successfully deleted",faulty_apply_parameter:"Unexpected 'apply' parameter",faulty_note_targeting:"Either 'file', 'uid', or 'periodic-note' must be provided",file_not_found:"File couldn't be found",file_opened:"File opened",folder_created:"Folder created",global_search_feature_not_available:"Global Search plugin is not active",headline_not_found:"Headline not found",monthly_note:{create_note_already_exists:"Monthly note already exists",create_note_no_content:"Monthly note couldn't be overwritten, no content specified",feature_not_available:"Periodic Notes' Monthly feature is not active"},not_available_on_mobile:"This action is not available on mobile",not_found:"Not found",note_not_found:"Note couldn't be found",note_opened:"Note opened",omnisearch_plugin_not_available:"Omnisearch plugin is not active",prepend_done:"Note was prepended",properties:{key_not_found:"Key not found"},quarterly_note:{create_note_already_exists:"Quarterly note already exists",create_note_no_content:"Quarterly note couldn't be overwritten, no content specified",feature_not_available:"Periodic Notes' Quarterly feature is not active"},rename_done:"Note was renamed/moved",replacement_done:"Replacement done, note updated",search_pattern_empty:"Search pattern is empty",search_pattern_invalid:"Search pattern must start with a forward slash",search_pattern_not_found:"Search pattern wasn't found, nothing replaced",search_pattern_unparseable:"Search pattern is not correctly formed",search_string_not_found:"Search string wasn't found, nothing replaced",template_not_found:"Template not found",templater:{feature_not_available:"Templater plugin is not active"},templates:{feature_not_available:"Templates core plugin is not active"},touch_done:"Successfully touched",trash_done:"Successfully moved to trash",unable_to_read_note:"Can't read note file",unable_to_write_note:"Can't write note file",vault_internals_not_found:"Vault didn't return config info",weekly_note:{create_note_already_exists:"Weekly note already exists",create_note_no_content:"Weekly note couldn't be overwritten, no content specified",feature_not_available:"Periodic Notes' Weekly feature is not active"},yearly_note:{create_note_already_exists:"Yearly note already exists",create_note_no_content:"Yearly note couldn't be overwritten, no content specified",feature_not_available:"Periodic Notes' Yearly feature is not active"}},Wa="result";var K;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{let a={};for(let i of s)a[i]=i;return a},t.getValidEnumValues=s=>{let a=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),i={};for(let o of a)i[o]=s[o];return t.objectValues(i)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let a=[];for(let i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},t.find=(s,a)=>{for(let i of s)if(a(i))return i},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(K||(K={}));var Es;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Es||(Es={}));var k=K.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xt=t=>{switch(typeof t){case"undefined":return k.undefined;case"string":return k.string;case"number":return isNaN(t)?k.nan:k.number;case"boolean":return k.boolean;case"function":return k.function;case"bigint":return k.bigint;case"symbol":return k.symbol;case"object":return Array.isArray(t)?k.array:t===null?k.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?k.promise:typeof Map<"u"&&t instanceof Map?k.map:typeof Set<"u"&&t instanceof Set?k.set:typeof Date<"u"&&t instanceof Date?k.date:k.object;default:return k.unknown}},b=K.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Pl=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),ve=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(a){return a.message},n={_errors:[]},s=a=>{for(let i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let o=n,l=0;for(;l<i.path.length;){let c=i.path[l];l===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(i))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return s(this),n}static assert(e){if(!(e instanceof ve))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,K.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};ve.create=t=>new ve(t);var hr=(t,e)=>{let r;switch(t.code){case b.invalid_type:t.received===k.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case b.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,K.jsonStringifyReplacer)}`;break;case b.unrecognized_keys:r=`Unrecognized key(s) in object: ${K.joinValues(t.keys,", ")}`;break;case b.invalid_union:r="Invalid input";break;case b.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${K.joinValues(t.options)}`;break;case b.invalid_enum_value:r=`Invalid enum value. Expected ${K.joinValues(t.options)}, received '${t.received}'`;break;case b.invalid_arguments:r="Invalid function arguments";break;case b.invalid_return_type:r="Invalid function return type";break;case b.invalid_date:r="Invalid date";break;case b.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:K.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case b.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case b.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case b.custom:r="Invalid input";break;case b.invalid_intersection_types:r="Intersection results could not be merged";break;case b.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case b.not_finite:r="Number must be finite";break;default:r=e.defaultError,K.assertNever(t)}return{message:r}},Ya=hr;function _l(t){Ya=t}function Bn(){return Ya}var Ln=t=>{let{data:e,path:r,errorMaps:n,issueData:s}=t,a=[...r,...s.path||[]],i={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let o="",l=n.filter(c=>!!c).slice().reverse();for(let c of l)o=c(i,{data:e,defaultError:o}).message;return{...s,path:a,message:o}},El=[];function S(t,e){let r=Bn(),n=Ln({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===hr?void 0:hr].filter(s=>!!s)});t.common.issues.push(n)}var pe=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let s of r){if(s.status==="aborted")return z;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let s of r){let a=await s.key,i=await s.value;n.push({key:a,value:i})}return pe.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let s of r){let{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return z;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[a.value]=i.value)}return{status:e.value,value:n}}},z=Object.freeze({status:"aborted"}),pr=t=>({status:"dirty",value:t}),be=t=>({status:"valid",value:t}),xs=t=>t.status==="aborted",Cs=t=>t.status==="dirty",Gr=t=>t.status==="valid",Jr=t=>typeof Promise<"u"&&t instanceof Promise;function Hn(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Ga(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}var I;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(I||(I={}));var qr,Yr,Me=class{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Za=(t,e)=>{if(Gr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new ve(t.common.issues);return this._error=r,this._error}}};function U(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(i,o)=>{var l,c;let{message:m}=t;return i.code==="invalid_enum_value"?{message:m??o.defaultError}:typeof o.data>"u"?{message:(l=m??n)!==null&&l!==void 0?l:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(c=m??r)!==null&&c!==void 0?c:o.defaultError}},description:s}}var W=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return xt(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:xt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new pe,ctx:{common:e.parent.common,data:e.data,parsedType:xt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(Jr(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let s={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xt(e)},a=this._parseSync({data:e,path:s.path,parent:s});return Za(s,a)}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xt(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await(Jr(s)?s:Promise.resolve(s));return Za(n,a)}refine(e,r){let n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{let i=e(s),o=()=>a.addIssue({code:b.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new ke({schema:this,typeName:H.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Re.create(this,this._def)}nullable(){return it.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ne.create(this,this._def)}promise(){return St.create(this,this._def)}or(e){return Ut.create([this,e],this._def)}and(e){return Wt.create(this,e,this._def)}transform(e){return new ke({...U(this._def),schema:this,typeName:H.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new Jt({...U(this._def),innerType:this,defaultValue:r,typeName:H.ZodDefault})}brand(){return new Qr({typeName:H.ZodBranded,type:this,...U(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Qt({...U(this._def),innerType:this,catchValue:r,typeName:H.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Kt.create(this,e)}readonly(){return Xt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},xl=/^c[^\s-]{8,}$/i,Cl=/^[0-9a-z]+$/,Tl=/^[0-9A-HJKMNP-TV-Z]{26}$/,Sl=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Nl=/^[a-z0-9_-]{21}$/i,kl=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ol=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Al="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",_s,Rl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ml=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Il=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ja="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Bl=new RegExp(`^${Ja}$`);function Qa(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Ll(t){return new RegExp(`^${Qa(t)}$`)}function Ka(t){let e=`${Ja}T${Qa(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Hl(t,e){return!!((e==="v4"||!e)&&Rl.test(t)||(e==="v6"||!e)&&Ml.test(t))}var Se=class extends W{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==k.string){let a=this._getOrReturnCtx(e);return S(a,{code:b.invalid_type,expected:k.string,received:a.parsedType}),z}let n=new pe,s;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),S(s,{code:b.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),S(s,{code:b.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let i=e.data.length>a.value,o=e.data.length<a.value;(i||o)&&(s=this._getOrReturnCtx(e,s),i?S(s,{code:b.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&S(s,{code:b.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Ol.test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{validation:"email",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")_s||(_s=new RegExp(Al,"u")),_s.test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{validation:"emoji",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")Sl.test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{validation:"uuid",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")Nl.test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{validation:"nanoid",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")xl.test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{validation:"cuid",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")Cl.test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{validation:"cuid2",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")Tl.test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{validation:"ulid",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),S(s,{validation:"url",code:b.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{validation:"regex",code:b.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),S(s,{code:b.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),S(s,{code:b.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),S(s,{code:b.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Ka(a).test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{code:b.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?Bl.test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{code:b.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?Ll(a).test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{code:b.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?kl.test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{validation:"duration",code:b.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?Hl(e.data,a.version)||(s=this._getOrReturnCtx(e,s),S(s,{validation:"ip",code:b.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?Il.test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{validation:"base64",code:b.invalid_string,message:a.message}),n.dirty()):K.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:b.invalid_string,...I.errToObj(n)})}_addCheck(e){return new Se({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...I.errToObj(e)})}url(e){return this._addCheck({kind:"url",...I.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...I.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...I.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...I.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...I.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...I.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...I.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...I.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...I.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...I.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...I.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...I.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...I.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...I.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...I.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...I.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...I.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...I.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...I.errToObj(r)})}nonempty(e){return this.min(1,I.errToObj(e))}trim(){return new Se({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Se({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Se({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Se.create=t=>{var e;return new Se({checks:[],typeName:H.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...U(t)})};function jl(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,a=parseInt(t.toFixed(s).replace(".","")),i=parseInt(e.toFixed(s).replace(".",""));return a%i/Math.pow(10,s)}var nt=class extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==k.number){let a=this._getOrReturnCtx(e);return S(a,{code:b.invalid_type,expected:k.number,received:a.parsedType}),z}let n,s=new pe;for(let a of this._def.checks)a.kind==="int"?K.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{code:b.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),S(n,{code:b.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),S(n,{code:b.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?jl(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),S(n,{code:b.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{code:b.not_finite,message:a.message}),s.dirty()):K.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,I.toString(r))}gt(e,r){return this.setLimit("min",e,!1,I.toString(r))}lte(e,r){return this.setLimit("max",e,!0,I.toString(r))}lt(e,r){return this.setLimit("max",e,!1,I.toString(r))}setLimit(e,r,n,s){return new nt({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:I.toString(s)}]})}_addCheck(e){return new nt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:I.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:I.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:I.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:I.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:I.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:I.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:I.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:I.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:I.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&K.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};nt.create=t=>new nt({checks:[],typeName:H.ZodNumber,coerce:t?.coerce||!1,...U(t)});var st=class extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==k.bigint){let a=this._getOrReturnCtx(e);return S(a,{code:b.invalid_type,expected:k.bigint,received:a.parsedType}),z}let n,s=new pe;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),S(n,{code:b.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),S(n,{code:b.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),S(n,{code:b.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):K.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,I.toString(r))}gt(e,r){return this.setLimit("min",e,!1,I.toString(r))}lte(e,r){return this.setLimit("max",e,!0,I.toString(r))}lt(e,r){return this.setLimit("max",e,!1,I.toString(r))}setLimit(e,r,n,s){return new st({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:I.toString(s)}]})}_addCheck(e){return new st({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:I.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:I.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:I.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:I.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:I.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};st.create=t=>{var e;return new st({checks:[],typeName:H.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...U(t)})};var zt=class extends W{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==k.boolean){let n=this._getOrReturnCtx(e);return S(n,{code:b.invalid_type,expected:k.boolean,received:n.parsedType}),z}return be(e.data)}};zt.create=t=>new zt({typeName:H.ZodBoolean,coerce:t?.coerce||!1,...U(t)});var yt=class extends W{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==k.date){let a=this._getOrReturnCtx(e);return S(a,{code:b.invalid_type,expected:k.date,received:a.parsedType}),z}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return S(a,{code:b.invalid_date}),z}let n=new pe,s;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),S(s,{code:b.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),S(s,{code:b.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):K.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new yt({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:I.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:I.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};yt.create=t=>new yt({checks:[],coerce:t?.coerce||!1,typeName:H.ZodDate,...U(t)});var Dr=class extends W{_parse(e){if(this._getType(e)!==k.symbol){let n=this._getOrReturnCtx(e);return S(n,{code:b.invalid_type,expected:k.symbol,received:n.parsedType}),z}return be(e.data)}};Dr.create=t=>new Dr({typeName:H.ZodSymbol,...U(t)});var Vt=class extends W{_parse(e){if(this._getType(e)!==k.undefined){let n=this._getOrReturnCtx(e);return S(n,{code:b.invalid_type,expected:k.undefined,received:n.parsedType}),z}return be(e.data)}};Vt.create=t=>new Vt({typeName:H.ZodUndefined,...U(t)});var $t=class extends W{_parse(e){if(this._getType(e)!==k.null){let n=this._getOrReturnCtx(e);return S(n,{code:b.invalid_type,expected:k.null,received:n.parsedType}),z}return be(e.data)}};$t.create=t=>new $t({typeName:H.ZodNull,...U(t)});var Tt=class extends W{constructor(){super(...arguments),this._any=!0}_parse(e){return be(e.data)}};Tt.create=t=>new Tt({typeName:H.ZodAny,...U(t)});var Dt=class extends W{constructor(){super(...arguments),this._unknown=!0}_parse(e){return be(e.data)}};Dt.create=t=>new Dt({typeName:H.ZodUnknown,...U(t)});var Ue=class extends W{_parse(e){let r=this._getOrReturnCtx(e);return S(r,{code:b.invalid_type,expected:k.never,received:r.parsedType}),z}};Ue.create=t=>new Ue({typeName:H.ZodNever,...U(t)});var yr=class extends W{_parse(e){if(this._getType(e)!==k.undefined){let n=this._getOrReturnCtx(e);return S(n,{code:b.invalid_type,expected:k.void,received:n.parsedType}),z}return be(e.data)}};yr.create=t=>new yr({typeName:H.ZodVoid,...U(t)});var Ne=class extends W{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==k.array)return S(r,{code:b.invalid_type,expected:k.array,received:r.parsedType}),z;if(s.exactLength!==null){let i=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(i||o)&&(S(r,{code:i?b.too_big:b.too_small,minimum:o?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(S(r,{code:b.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(S(r,{code:b.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,o)=>s.type._parseAsync(new Me(r,i,r.path,o)))).then(i=>pe.mergeArray(n,i));let a=[...r.data].map((i,o)=>s.type._parseSync(new Me(r,i,r.path,o)));return pe.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new Ne({...this._def,minLength:{value:e,message:I.toString(r)}})}max(e,r){return new Ne({...this._def,maxLength:{value:e,message:I.toString(r)}})}length(e,r){return new Ne({...this._def,exactLength:{value:e,message:I.toString(r)}})}nonempty(e){return this.min(1,e)}};Ne.create=(t,e)=>new Ne({type:t,minLength:null,maxLength:null,exactLength:null,typeName:H.ZodArray,...U(e)});function mr(t){if(t instanceof ae){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=Re.create(mr(n))}return new ae({...t._def,shape:()=>e})}else return t instanceof Ne?new Ne({...t._def,type:mr(t.element)}):t instanceof Re?Re.create(mr(t.unwrap())):t instanceof it?it.create(mr(t.unwrap())):t instanceof Ie?Ie.create(t.items.map(e=>mr(e))):t}var ae=class extends W{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=K.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==k.object){let c=this._getOrReturnCtx(e);return S(c,{code:b.invalid_type,expected:k.object,received:c.parsedType}),z}let{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ue&&this._def.unknownKeys==="strip"))for(let c in s.data)i.includes(c)||o.push(c);let l=[];for(let c of i){let m=a[c],w=s.data[c];l.push({key:{status:"valid",value:c},value:m._parse(new Me(s,w,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Ue){let c=this._def.unknownKeys;if(c==="passthrough")for(let m of o)l.push({key:{status:"valid",value:m},value:{status:"valid",value:s.data[m]}});else if(c==="strict")o.length>0&&(S(s,{code:b.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let m of o){let w=s.data[m];l.push({key:{status:"valid",value:m},value:c._parse(new Me(s,w,s.path,m)),alwaysSet:m in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let c=[];for(let m of l){let w=await m.key,F=await m.value;c.push({key:w,value:F,alwaysSet:m.alwaysSet})}return c}).then(c=>pe.mergeObjectSync(n,c)):pe.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return I.errToObj,new ae({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,a,i,o;let l=(i=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,r,n).message)!==null&&i!==void 0?i:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=I.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new ae({...this._def,unknownKeys:"strip"})}passthrough(){return new ae({...this._def,unknownKeys:"passthrough"})}extend(e){return new ae({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ae({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:H.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new ae({...this._def,catchall:e})}pick(e){let r={};return K.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new ae({...this._def,shape:()=>r})}omit(e){let r={};return K.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new ae({...this._def,shape:()=>r})}deepPartial(){return mr(this)}partial(e){let r={};return K.objectKeys(this.shape).forEach(n=>{let s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new ae({...this._def,shape:()=>r})}required(e){let r={};return K.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Re;)a=a._def.innerType;r[n]=a}}),new ae({...this._def,shape:()=>r})}keyof(){return Xa(K.objectKeys(this.shape))}};ae.create=(t,e)=>new ae({shape:()=>t,unknownKeys:"strip",catchall:Ue.create(),typeName:H.ZodObject,...U(e)});ae.strictCreate=(t,e)=>new ae({shape:()=>t,unknownKeys:"strict",catchall:Ue.create(),typeName:H.ZodObject,...U(e)});ae.lazycreate=(t,e)=>new ae({shape:t,unknownKeys:"strip",catchall:Ue.create(),typeName:H.ZodObject,...U(e)});var Ut=class extends W{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function s(a){for(let o of a)if(o.result.status==="valid")return o.result;for(let o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;let i=a.map(o=>new ve(o.ctx.common.issues));return S(r,{code:b.invalid_union,unionErrors:i}),z}if(r.common.async)return Promise.all(n.map(async a=>{let i={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let a,i=[];for(let l of n){let c={...r,common:{...r.common,issues:[]},parent:null},m=l._parseSync({data:r.data,path:r.path,parent:c});if(m.status==="valid")return m;m.status==="dirty"&&!a&&(a={result:m,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;let o=i.map(l=>new ve(l));return S(r,{code:b.invalid_union,unionErrors:o}),z}}get options(){return this._def.options}};Ut.create=(t,e)=>new Ut({options:t,typeName:H.ZodUnion,...U(e)});var ht=t=>t instanceof qt?ht(t.schema):t instanceof ke?ht(t.innerType()):t instanceof Yt?[t.value]:t instanceof at?t.options:t instanceof Gt?K.objectValues(t.enum):t instanceof Jt?ht(t._def.innerType):t instanceof Vt?[void 0]:t instanceof $t?[null]:t instanceof Re?[void 0,...ht(t.unwrap())]:t instanceof it?[null,...ht(t.unwrap())]:t instanceof Qr||t instanceof Xt?ht(t.unwrap()):t instanceof Qt?ht(t._def.innerType):[],gr=class extends W{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==k.object)return S(r,{code:b.invalid_type,expected:k.object,received:r.parsedType}),z;let n=this.discriminator,s=r.data[n],a=this.optionsMap.get(s);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(S(r,{code:b.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),z)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let s=new Map;for(let a of r){let i=ht(a.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of i){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,a)}}return new gr({typeName:H.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...U(n)})}};function Ts(t,e){let r=xt(t),n=xt(e);if(t===e)return{valid:!0,data:t};if(r===k.object&&n===k.object){let s=K.objectKeys(e),a=K.objectKeys(t).filter(o=>s.indexOf(o)!==-1),i={...t,...e};for(let o of a){let l=Ts(t[o],e[o]);if(!l.valid)return{valid:!1};i[o]=l.data}return{valid:!0,data:i}}else if(r===k.array&&n===k.array){if(t.length!==e.length)return{valid:!1};let s=[];for(let a=0;a<t.length;a++){let i=t[a],o=e[a],l=Ts(i,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===k.date&&n===k.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Wt=class extends W{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),s=(a,i)=>{if(xs(a)||xs(i))return z;let o=Ts(a.value,i.value);return o.valid?((Cs(a)||Cs(i))&&r.dirty(),{status:r.value,value:o.data}):(S(n,{code:b.invalid_intersection_types}),z)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Wt.create=(t,e,r)=>new Wt({left:t,right:e,typeName:H.ZodIntersection,...U(r)});var Ie=class extends W{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==k.array)return S(n,{code:b.invalid_type,expected:k.array,received:n.parsedType}),z;if(n.data.length<this._def.items.length)return S(n,{code:b.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),z;!this._def.rest&&n.data.length>this._def.items.length&&(S(n,{code:b.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let a=[...n.data].map((i,o)=>{let l=this._def.items[o]||this._def.rest;return l?l._parse(new Me(n,i,n.path,o)):null}).filter(i=>!!i);return n.common.async?Promise.all(a).then(i=>pe.mergeArray(r,i)):pe.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Ie({...this._def,rest:e})}};Ie.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ie({items:t,typeName:H.ZodTuple,rest:null,...U(e)})};var Zt=class extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==k.object)return S(n,{code:b.invalid_type,expected:k.object,received:n.parsedType}),z;let s=[],a=this._def.keyType,i=this._def.valueType;for(let o in n.data)s.push({key:a._parse(new Me(n,o,n.path,o)),value:i._parse(new Me(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?pe.mergeObjectAsync(r,s):pe.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof W?new Zt({keyType:e,valueType:r,typeName:H.ZodRecord,...U(n)}):new Zt({keyType:Se.create(),valueType:e,typeName:H.ZodRecord,...U(r)})}},Fr=class extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==k.map)return S(n,{code:b.invalid_type,expected:k.map,received:n.parsedType}),z;let s=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map(([o,l],c)=>({key:s._parse(new Me(n,o,n.path,[c,"key"])),value:a._parse(new Me(n,l,n.path,[c,"value"]))}));if(n.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let l of i){let c=await l.key,m=await l.value;if(c.status==="aborted"||m.status==="aborted")return z;(c.status==="dirty"||m.status==="dirty")&&r.dirty(),o.set(c.value,m.value)}return{status:r.value,value:o}})}else{let o=new Map;for(let l of i){let c=l.key,m=l.value;if(c.status==="aborted"||m.status==="aborted")return z;(c.status==="dirty"||m.status==="dirty")&&r.dirty(),o.set(c.value,m.value)}return{status:r.value,value:o}}}};Fr.create=(t,e,r)=>new Fr({valueType:e,keyType:t,typeName:H.ZodMap,...U(r)});var gt=class extends W{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==k.set)return S(n,{code:b.invalid_type,expected:k.set,received:n.parsedType}),z;let s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(S(n,{code:b.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(S(n,{code:b.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());let a=this._def.valueType;function i(l){let c=new Set;for(let m of l){if(m.status==="aborted")return z;m.status==="dirty"&&r.dirty(),c.add(m.value)}return{status:r.value,value:c}}let o=[...n.data.values()].map((l,c)=>a._parse(new Me(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>i(l)):i(o)}min(e,r){return new gt({...this._def,minSize:{value:e,message:I.toString(r)}})}max(e,r){return new gt({...this._def,maxSize:{value:e,message:I.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};gt.create=(t,e)=>new gt({valueType:t,minSize:null,maxSize:null,typeName:H.ZodSet,...U(e)});var Ct=class extends W{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==k.function)return S(r,{code:b.invalid_type,expected:k.function,received:r.parsedType}),z;function n(o,l){return Ln({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Bn(),hr].filter(c=>!!c),issueData:{code:b.invalid_arguments,argumentsError:l}})}function s(o,l){return Ln({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Bn(),hr].filter(c=>!!c),issueData:{code:b.invalid_return_type,returnTypeError:l}})}let a={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof St){let o=this;return be(async function(...l){let c=new ve([]),m=await o._def.args.parseAsync(l,a).catch(g=>{throw c.addIssue(n(l,g)),c}),w=await Reflect.apply(i,this,m);return await o._def.returns._def.type.parseAsync(w,a).catch(g=>{throw c.addIssue(s(w,g)),c})})}else{let o=this;return be(function(...l){let c=o._def.args.safeParse(l,a);if(!c.success)throw new ve([n(l,c.error)]);let m=Reflect.apply(i,this,c.data),w=o._def.returns.safeParse(m,a);if(!w.success)throw new ve([s(m,w.error)]);return w.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ct({...this._def,args:Ie.create(e).rest(Dt.create())})}returns(e){return new Ct({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Ct({args:e||Ie.create([]).rest(Dt.create()),returns:r||Dt.create(),typeName:H.ZodFunction,...U(n)})}},qt=class extends W{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};qt.create=(t,e)=>new qt({getter:t,typeName:H.ZodLazy,...U(e)});var Yt=class extends W{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return S(r,{received:r.data,code:b.invalid_literal,expected:this._def.value}),z}return{status:"valid",value:e.data}}get value(){return this._def.value}};Yt.create=(t,e)=>new Yt({value:t,typeName:H.ZodLiteral,...U(e)});function Xa(t,e){return new at({values:t,typeName:H.ZodEnum,...U(e)})}var at=class extends W{constructor(){super(...arguments),qr.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return S(r,{expected:K.joinValues(n),received:r.parsedType,code:b.invalid_type}),z}if(Hn(this,qr,"f")||Ga(this,qr,new Set(this._def.values),"f"),!Hn(this,qr,"f").has(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return S(r,{received:r.data,code:b.invalid_enum_value,options:n}),z}return be(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return at.create(e,{...this._def,...r})}exclude(e,r=this._def){return at.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};qr=new WeakMap;at.create=Xa;var Gt=class extends W{constructor(){super(...arguments),Yr.set(this,void 0)}_parse(e){let r=K.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==k.string&&n.parsedType!==k.number){let s=K.objectValues(r);return S(n,{expected:K.joinValues(s),received:n.parsedType,code:b.invalid_type}),z}if(Hn(this,Yr,"f")||Ga(this,Yr,new Set(K.getValidEnumValues(this._def.values)),"f"),!Hn(this,Yr,"f").has(e.data)){let s=K.objectValues(r);return S(n,{received:n.data,code:b.invalid_enum_value,options:s}),z}return be(e.data)}get enum(){return this._def.values}};Yr=new WeakMap;Gt.create=(t,e)=>new Gt({values:t,typeName:H.ZodNativeEnum,...U(e)});var St=class extends W{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==k.promise&&r.common.async===!1)return S(r,{code:b.invalid_type,expected:k.promise,received:r.parsedType}),z;let n=r.parsedType===k.promise?r.data:Promise.resolve(r.data);return be(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}};St.create=(t,e)=>new St({type:t,typeName:H.ZodPromise,...U(e)});var ke=class extends W{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===H.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:i=>{S(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){let i=s.transform(n.data,a);if(n.common.async)return Promise.resolve(i).then(async o=>{if(r.value==="aborted")return z;let l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?z:l.status==="dirty"||r.value==="dirty"?pr(l.value):l});{if(r.value==="aborted")return z;let o=this._def.schema._parseSync({data:i,path:n.path,parent:n});return o.status==="aborted"?z:o.status==="dirty"||r.value==="dirty"?pr(o.value):o}}if(s.type==="refinement"){let i=o=>{let l=s.refinement(o,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?z:(o.status==="dirty"&&r.dirty(),i(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?z:(o.status==="dirty"&&r.dirty(),i(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){let i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Gr(i))return i;let o=s.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>Gr(i)?Promise.resolve(s.transform(i.value,a)).then(o=>({status:r.value,value:o})):i);K.assertNever(s)}};ke.create=(t,e,r)=>new ke({schema:t,typeName:H.ZodEffects,effect:e,...U(r)});ke.createWithPreprocess=(t,e,r)=>new ke({schema:e,effect:{type:"preprocess",transform:t},typeName:H.ZodEffects,...U(r)});var Re=class extends W{_parse(e){return this._getType(e)===k.undefined?be(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Re.create=(t,e)=>new Re({innerType:t,typeName:H.ZodOptional,...U(e)});var it=class extends W{_parse(e){return this._getType(e)===k.null?be(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};it.create=(t,e)=>new it({innerType:t,typeName:H.ZodNullable,...U(e)});var Jt=class extends W{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===k.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};Jt.create=(t,e)=>new Jt({innerType:t,typeName:H.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...U(e)});var Qt=class extends W{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Jr(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ve(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ve(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Qt.create=(t,e)=>new Qt({innerType:t,typeName:H.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...U(e)});var wr=class extends W{_parse(e){if(this._getType(e)!==k.nan){let n=this._getOrReturnCtx(e);return S(n,{code:b.invalid_type,expected:k.nan,received:n.parsedType}),z}return{status:"valid",value:e.data}}};wr.create=t=>new wr({typeName:H.ZodNaN,...U(t)});var zl=Symbol("zod_brand"),Qr=class extends W{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},Kt=class extends W{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?z:a.status==="dirty"?(r.dirty(),pr(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{let s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?z:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new Kt({in:e,out:r,typeName:H.ZodPipeline})}},Xt=class extends W{_parse(e){let r=this._def.innerType._parse(e),n=s=>(Gr(s)&&(s.value=Object.freeze(s.value)),s);return Jr(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}};Xt.create=(t,e)=>new Xt({innerType:t,typeName:H.ZodReadonly,...U(e)});function ei(t,e={},r){return t?Tt.create().superRefine((n,s)=>{var a,i;if(!t(n)){let o=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,l=(i=(a=o.fatal)!==null&&a!==void 0?a:r)!==null&&i!==void 0?i:!0,c=typeof o=="string"?{message:o}:o;s.addIssue({code:"custom",...c,fatal:l})}}):Tt.create()}var Vl={object:ae.lazycreate},H;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(H||(H={}));var $l=(t,e={message:`Input not instance of ${t.name}`})=>ei(r=>r instanceof t,e),ti=Se.create,ri=nt.create,Ul=wr.create,Wl=st.create,ni=zt.create,Zl=yt.create,ql=Dr.create,Yl=Vt.create,Gl=$t.create,Jl=Tt.create,Ql=Dt.create,Kl=Ue.create,Xl=yr.create,ec=Ne.create,tc=ae.create,rc=ae.strictCreate,nc=Ut.create,sc=gr.create,ac=Wt.create,ic=Ie.create,oc=Zt.create,uc=Fr.create,lc=gt.create,cc=Ct.create,dc=qt.create,fc=Yt.create,mc=at.create,pc=Gt.create,hc=St.create,qa=ke.create,Dc=Re.create,yc=it.create,gc=ke.createWithPreprocess,Fc=Kt.create,wc=()=>ti().optional(),vc=()=>ri().optional(),bc=()=>ni().optional(),Pc={string:t=>Se.create({...t,coerce:!0}),number:t=>nt.create({...t,coerce:!0}),boolean:t=>zt.create({...t,coerce:!0}),bigint:t=>st.create({...t,coerce:!0}),date:t=>yt.create({...t,coerce:!0})},_c=z,h=Object.freeze({__proto__:null,defaultErrorMap:hr,setErrorMap:_l,getErrorMap:Bn,makeIssue:Ln,EMPTY_PATH:El,addIssueToContext:S,ParseStatus:pe,INVALID:z,DIRTY:pr,OK:be,isAborted:xs,isDirty:Cs,isValid:Gr,isAsync:Jr,get util(){return K},get objectUtil(){return Es},ZodParsedType:k,getParsedType:xt,ZodType:W,datetimeRegex:Ka,ZodString:Se,ZodNumber:nt,ZodBigInt:st,ZodBoolean:zt,ZodDate:yt,ZodSymbol:Dr,ZodUndefined:Vt,ZodNull:$t,ZodAny:Tt,ZodUnknown:Dt,ZodNever:Ue,ZodVoid:yr,ZodArray:Ne,ZodObject:ae,ZodUnion:Ut,ZodDiscriminatedUnion:gr,ZodIntersection:Wt,ZodTuple:Ie,ZodRecord:Zt,ZodMap:Fr,ZodSet:gt,ZodFunction:Ct,ZodLazy:qt,ZodLiteral:Yt,ZodEnum:at,ZodNativeEnum:Gt,ZodPromise:St,ZodEffects:ke,ZodTransformer:ke,ZodOptional:Re,ZodNullable:it,ZodDefault:Jt,ZodCatch:Qt,ZodNaN:wr,BRAND:zl,ZodBranded:Qr,ZodPipeline:Kt,ZodReadonly:Xt,custom:ei,Schema:W,ZodSchema:W,late:Vl,get ZodFirstPartyTypeKind(){return H},coerce:Pc,any:Jl,array:ec,bigint:Wl,boolean:ni,date:Zl,discriminatedUnion:sc,effect:qa,enum:mc,function:cc,instanceof:$l,intersection:ac,lazy:dc,literal:fc,map:uc,nan:Ul,nativeEnum:pc,never:Kl,null:Gl,nullable:yc,number:ri,object:tc,oboolean:bc,onumber:vc,optional:Dc,ostring:wc,pipeline:Fc,preprocess:gc,promise:hc,record:oc,set:lc,strictObject:rc,string:ti,symbol:ql,transformer:qa,tuple:ic,undefined:Yl,union:nc,unknown:Ql,void:Xl,NEVER:_c,ZodIssueCode:b,quotelessJson:Pl,ZodError:ve});var xr=require("obsidian");var Ss;function q(t){if(t&&(Ss=t),!Ss)throw new Error("Plugin instance not set");return Ss}var xe=require("obsidian");function y(t,e){return{isSuccess:!0,result:t,processedFilepath:e}}function O(t,e){return{isSuccess:!1,errorCode:t,errorMessage:e}}function Ec(){return Array.from(q().app.plugins?.enabledPlugins||[]).sort()}function Ns(t){return Ec().contains(t)}function Ft(t){return Ns(t)?y(q().app.plugins.getPlugin(t)):O(424,`Community plugin ${t} is not enabled.`)}function si(t){return!!q().app.internalPlugins?.getEnabledPluginById(t)}function We(t){let e=q().app.internalPlugins?.getEnabledPluginById(t);return e?y(e):O(424,`Core plugin ${t} is not enabled.`)}var ks=`---
`;function Nt(t=""){return t.endsWith(`
`)?t:`${t}
`}function jn(t){if(!t.startsWith("/"))return O(406,C.search_pattern_invalid);let e=t.slice(1),r=e.lastIndexOf("/");if(r===0)return O(406,C.search_pattern_empty);let n,s=e.slice(r+1);e=e.slice(0,r);try{n=new RegExp(e,s)}catch{return O(406,C.search_pattern_unparseable)}return y(n)}function Kr(t){return t.replace(/([.*+?^${}()|[\]\\])/g,"\\$1")}function Os(t){let e=t.indexOf(ks,4)+4;return t.startsWith(ks)&&t.indexOf(ks,4)>-1?{frontMatter:t.slice(0,e),body:t.slice(e)}:{frontMatter:"",body:t}}function ai(t){return t.replace(/^---\n/,"").replace(/---\n$/,"")}function ii(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase()}async function Ze(t){return new Promise(e=>{setTimeout(()=>e(),t)})}var vr=require("obsidian");function er(t){new vr.Notice(`[Actions URI] ${t}`)}function As(...t){console.log("[Actions URI]",...t)}function Xr(...t){console.error("[Actions URI]",...t)}async function ee(t){let e=await xc(t);if(e.isSuccess)return e;let r=await zn(t);return r.isSuccess?(q().app.workspace.getLeaf(!0).openFile(r.result),y(C.note_opened)):O(404,C.note_not_found)}async function xc(t){for(let e of q().app.workspace.getLeavesOfType("markdown"))if((0,vr.requireApiVersion)("1.7.2")&&await e.loadIfDeferred(),e.view instanceof vr.FileView&&e.view.file?.path===t)return await q().app.workspace.revealLeaf(e),y("Open file found and focussed");return O(404,"File currently not open")}async function kt(t,e){t=ge(t);let r=q().app.vault,n=r.getFileByPath(t),s=n instanceof xe.TFile;if(s){let i=t.match(/( (\d+))?\.md$/)[2],o=i?+i:0;do o++,t=t.replace(/( \d+)?\.md$/,` ${o}.md`),n=r.getFileByPath(t),s=n instanceof xe.TFile;while(s)}await qn(ci(t)),await li(t,e);let a=r.getFileByPath(t);return a instanceof xe.TFile?y(a):O(400,C.unable_to_write_note)}async function Ot(t,e){t=ge(t);let{vault:r}=q().app,n=r.getFileByPath(t);if(n instanceof xe.TFile)return await Ze(500),await r.modify(n,e),y(r.getFileByPath(t));await qn(ci(t)),await li(t,e);let s=r.getFileByPath(t);return s instanceof xe.TFile?y(s):O(400,C.unable_to_write_note)}async function br(t){let e=q().app.vault,r=await Be(t);if(!r.isSuccess)return r;let n=await e.read(r.result);return typeof n=="string"?y(n):O(400,C.unable_to_read_note)}async function me(t){let e=await Be(t);if(!e.isSuccess)return e;let r=await br(t);if(!r.isSuccess)return r;let n=e.result,s=r.result,{body:a,frontMatter:i}=Os(s),o=Er(n);return y({filepath:t,content:s,body:a,frontMatter:ai(i),properties:o,uid:o[q().settings.frontmatterKey]||""})}function ge(t,e=!0){return t=t.replace(/[:#^[]|]/g,"-"),t=(0,xe.normalizePath)(t).split("/").map(r=>r.trim()).join("/").replace(/^[\/\.]+/g,""),e&&!/\.(md|canvas)/i.test(Cc(t))?`${t}.md`:t}function ot(t,e=!0){return q().app.vault.getAbstractFileByPath(ge(t,e))}async function Vn(t,e,r){let n=await Be(t);if(!n.isSuccess)return n;let s=await me(t);if(!s.isSuccess||typeof e!="string"&&typeof r!="string")return s;let a=n.result,i=s.result,o=typeof r=="string"?r:i.body,l=typeof e=="string"?e:i.frontMatter;l=l.trim();let c=l!==""?["---",l,"---",o].join(`
`):o;await q().app.vault.modify(a,c),await Ze(200);let m=Er(a);return y({filepath:t,content:c,body:o,frontMatter:l,properties:m,uid:m[q().settings.frontmatterKey]||""})}async function oi(t){let e=await Be(t);if(!e.isSuccess)return e;let r=await me(t);return r.isSuccess?(await q().app.vault.modify(e.result,r.result.content),e):r}async function Pr(t,e,r){let n=await br(t);if(!n.isSuccess)return n;let s=n.result,a=typeof e=="string"?s.replaceAll(e,r):s.replace(e,r);if(s===a)return typeof e=="string"?y(C.search_string_not_found):y(C.search_pattern_not_found);let i=await Ot(t,a);return i.isSuccess?y(C.replacement_done):i}async function en(t,e,r=!1){let n=await br(t);if(!n.isSuccess)return n;let s=n.result+(r?Nt(e):e),a=await Ot(t,s);return a.isSuccess?y(C.append_done):a}async function $n(t,e,r){let n=await Be(t);if(!n.isSuccess)return n;let s=new RegExp(`^${Kr(e.trim())}\\s*\\n`,"s");return await q().app.vault.process(n.result,i=>Nt(i).split(/(?=^#+ )/m).map(o=>s.test(o)?Nt(o.trim()+`
`+r+o.match(/\n+$/)?.[0]||""):o).join(""))?y(C.append_done):O(400,C.unable_to_write_note)}async function Un(t,e,r=!1,n=!1){let s=await br(t);if(!s.isSuccess)return s;let a=s.result,i;if(r&&(e=Nt(e)),n)i=e+a;else{let{frontMatter:l,body:c}=Os(a);i=l+e+c}let o=await Ot(t,i);return o.isSuccess?y(C.prepend_done):o}async function Wn(t,e,r,n=!1){let s=await Be(t);if(!s.isSuccess)return s;let a=new RegExp(`^${Kr(e.trim())}\\s*\\n`,"s");return await q().app.vault.process(s.result,o=>Nt(o).split(/(?=^#+ )/m).map(l=>{if(!a.test(l))return l;n&&(r=Nt(r));let c=l.split(`
`);c[1]=r+(c[1]||"");let m=c.join(`
`);return Nt(m)}).join(""))?y(C.append_done):O(400,C.unable_to_write_note)}function ui(){let t=q().app.vault,{fileMap:e}=t;return Object.values(e)}async function zn(t){let e=ge(t,!1),r=q().app.vault.getFileByPath(e);return r instanceof xe.TFile?y(r):O(404,C.note_not_found)}async function Be(t){let e=ge(t),r=q().app.vault.getFileByPath(e);return r instanceof xe.TFile?y(r):O(404,C.note_not_found)}async function Zn(t,e){let r=We("templates");if(!r.isSuccess)return r;let n=r.result;await ee(e.path);try{let s=q().app.workspace.getActiveViewOfType(xe.MarkdownView);s&&s?.getMode()!=="source"&&await s.setState({...s.getState(),mode:"source"},{history:!1})}catch(s){let a=s.message;return er(a),Xr(a),O(500,a)}return await Ze(200),await n.insertTemplate(t),y(!0)}async function qe(t,e=!1){let r=q().app.vault,n=r.getAbstractFileByPath(t);if(!n)return O(404,C.not_found);if(e)await r.delete(n,!0);else{let s=r.config?.trashOption==="system";await r.trash(n,s)}return y(C.trash_done)}async function _r(t,e){let r=q().app.vault,n=r.getAbstractFileByPath(t);if(!n)return O(404,C.not_found);try{await r.rename(n,e)}catch(s){let a=s.message;return O(404,a.contains("no such file or directory")?"No such file or folder":a)}return y(C.rename_done)}async function qn(t){let e=q().app.vault;t=ge(t,!1),!(t===""||t===".")&&(e.getFolderByPath(t)||await e.createFolder(t))}function Er(t){return q().app.metadataCache.getFileCache(t)?.frontmatter||{}}async function li(t,e){await q().app.vault.create(t,e),(si("templates")||Ns("templater-obsidian"))&&await Ze(500)}function ci(t){return t=(0,xe.normalizePath)(t),t.indexOf("/")===-1?".":t.replace(/\/[^/]*$/,"")}function Cc(t){let e=(0,xe.normalizePath)(t).split("/").pop()||"";return e.includes(".")?`.${e.split(".").pop()}`:""}var G=h.preprocess(t=>typeof t=="string"&&t!=="false"&&t!=="",h.boolean().optional()),Cr=h.string().min(1,{message:"can't be empty"}).transform(t=>ge(t)),di=h.string().min(1,{message:"can't be empty"}).transform(t=>ge(t,!1)),Rs=h.string().min(1,{message:"can't be empty"}).transform(t=>ge(t,!1)),fi=h.string().refine(t=>{try{let e=JSON.parse(t);return Array.isArray(e)&&e.every(r=>typeof r=="string")}catch{return!1}},{message:"Input must be a JSON-encoded string array."}).transform(t=>JSON.parse(t)),mi=h.string().refine(t=>{try{let e=JSON.parse(t);return typeof e!="object"?!1:Object.values(e).every(n=>{let s=typeof n;return["string","number","boolean"].includes(s)||n===null?!0:Array.isArray(n)?n.every(a=>typeof a=="string"):!1})}catch{return!1}},{message:"Input must be a JSON-encoded object containing only values of type string, string array, number, boolean or null."}).transform(t=>JSON.parse(t)),pi=h.string().min(1,{message:"can't be empty"}).transform(t=>t.split(",").map(e=>e.trim())),hi=h.preprocess(Nc,h.instanceof(xr.TFile,{message:"Template doesn't exist or Templater isn't enabled"})),Di=h.preprocess(kc,h.instanceof(xr.TFile,{message:"Template doesn't exist or Templates isn't enabled"})),Yn=h.preprocess(Tc,h.instanceof(xr.TFile,{message:"File doesn't exist"})),Ms=h.preprocess(Sc,h.instanceof(xr.TFolder,{message:"Folder doesn't exist"})),yi=t=>h.undefined().refine(e=>e===void 0).transform(()=>t),gi=t=>h.literal("").refine(e=>e==="").transform(()=>t);function Tc(t){return typeof t=="string"&&t.length>0?ot(t,!1):null}function Sc(t){return typeof t=="string"&&t.length>0?q().app.vault.getFolderByPath(t):null}function Nc(t){if(typeof t!="string"||!t)return null;let e=ot(t,!0);if(e)return e;let r=Ft("templater-obsidian");if(r.isSuccess){let n=r.result.settings?.templates_folder;return ot(`${n}/${t}`,!0)||ot(`${n}/${t}.md`,!0)}return null}function kc(t){if(typeof t!="string"||!t)return null;let e=ot(t,!0);if(e)return e;let r=We("templates");if(r.isSuccess){let n=r.result.options?.folder;return ot(`${n}/${t}`,!0)||ot(`${n}/${t}.md`,!0)}return null}var Gn=require("obsidian"),B=$a(Oi());var wt=(a=>(a.DailyNote="daily",a.WeeklyNote="weekly",a.MonthlyNote="monthly",a.QuarterlyNote="quarterly",a.YearlyNote="yearly",a))(wt||{}),$s=(m=>(m.DailyNote="daily",m.WeeklyNote="weekly",m.MonthlyNote="monthly",m.QuarterlyNote="quarterly",m.YearlyNote="yearly",m.RecentDailyNote="recent-daily",m.RecentWeeklyNote="recent-weekly",m.RecentMonthlyNote="recent-monthly",m.RecentQuarterlyNote="recent-quarterly",m.RecentYearlyNote="recent-yearly",m))($s||{});function Ai(t){let e;switch(t){case"daily":e=B.getDailyNoteSettings;break;case"weekly":e=B.getWeeklyNoteSettings;break;case"monthly":e=B.getMonthlyNoteSettings;break;case"quarterly":e=B.getQuarterlyNoteSettings;break;case"yearly":e=B.getYearlyNoteSettings;break}let{format:r,folder:n}=e(),s=(0,Gn.moment)().format(r);return ge(`${n}/${s}.md`)}function ln(t){let e=cn(t),r=Object.keys(e).sort().last();return r?y(e[r].path):O(404,C.note_not_found)}function Us(t){let e=(0,Gn.moment)();switch(t){case"daily":return(0,B.getDailyNote)(e,(0,B.getAllDailyNotes)());case"weekly":return(0,B.getWeeklyNote)(e,(0,B.getAllWeeklyNotes)());case"monthly":return(0,B.getMonthlyNote)(e,(0,B.getAllMonthlyNotes)());case"quarterly":return(0,B.getQuarterlyNote)(e,(0,B.getAllQuarterlyNotes)());case"yearly":return(0,B.getYearlyNote)(e,(0,B.getAllYearlyNotes)())}}function cn(t){switch(t){case"daily":return(0,B.getAllDailyNotes)();case"weekly":return(0,B.getAllWeeklyNotes)();case"monthly":return(0,B.getAllMonthlyNotes)();case"quarterly":return(0,B.getAllQuarterlyNotes)();case"yearly":return(0,B.getAllYearlyNotes)()}}function At(t){switch(t){case"daily":return(0,B.appHasDailyNotesPluginLoaded)();case"weekly":return(0,B.appHasWeeklyNotesPluginLoaded)();case"monthly":return(0,B.appHasMonthlyNotesPluginLoaded)();case"quarterly":return(0,B.appHasQuarterlyNotesPluginLoaded)();case"yearly":return(0,B.appHasYearlyNotesPluginLoaded)()}}async function vt(t){let e=(0,Gn.moment)();switch(t){case"daily":return(0,B.createDailyNote)(e);case"weekly":return(0,B.createWeeklyNote)(e);case"monthly":return(0,B.createMonthlyNote)(e);case"quarterly":return(0,B.createQuarterlyNote)(e);case"yearly":return(0,B.createYearlyNote)(e)}}function tr(t){if(!At(t))return O(424,C[`${t}_note`].feature_not_available);let e=Us(t);return e?y(e.path):O(404,C.note_not_found)}var R=h.object({action:h.string(),vault:h.string().min(1,{message:"can't be empty"}),"debug-mode":G,"x-error":h.string().url().optional(),"x-success":h.string().url().optional(),"x-source":h.string().optional()}),Ge=h.object({file:Cr.optional(),uid:h.string().optional(),"periodic-note":h.nativeEnum(wt).optional()}),Ws=h.object({file:Cr.optional(),uid:h.string().optional(),"periodic-note":h.nativeEnum($s).optional()});function se(t="/"){return{path:t,schema:R.extend({}),handler:Xc}}async function Xc(t){return er("\u2026 is ready for action \u{1F680}"),y({message:"Hello!"})}var ed=R.extend({"x-error":h.string().url(),"x-success":h.string().url()}),td=R.extend({commands:pi,"pause-in-secs":h.coerce.number().optional()}),Ri={"/command":[se(),{path:"/list",schema:ed,handler:rd},{path:"/execute",schema:td,handler:nd}]};async function rd(t){let e=this.app.commands.listCommands().map(r=>({id:r.id,name:r.name}));return y({commands:JSON.stringify(e)})}async function nd(t){let{commands:e}=t,r=(t["pause-in-secs"]||.2)*1e3;for(let n=0;n<e.length;n++){let s=e[n];if(!this.app.commands.executeCommandById(s))return O(404,C.command_not_found(s));n<e.length-1&&await Ze(r)}return y({})}var Ds=$a(mu());var pu=R.extend({dql:h.string(),"x-error":h.string().url(),"x-success":h.string().url()}),hu={"/dataview":[se(),{path:"/table-query",schema:pu,handler:om},{path:"/list-query",schema:pu,handler:um}]};async function om(t){return await Du.bind(this)("table",t)}async function um(t){return await Du.bind(this)("list",t)}function xa(t,e){return Array.isArray(e)?e.map(r=>xa(t,r)):t.value.toString(e)}async function Du(t,e){let r=(0,Ds.getAPI)(this.app);if(!(0,Ds.isPluginEnabled)(this.app)||!r)return O(424,C.dataview_plugin_not_available);let n=e.dql.trim()+`
`;if(!n.toLowerCase().startsWith(t))return O(406,C[`dataview_dql_must_start_with_${t}`]);let s=await r.query(n);return s.successful?t==="table"&&yu(s.value.values)>2?y({data:xa(r,s.value.values[0])}):y({data:xa(r,s.value.values)}):O(500,s.error)}function yu(t){if(!Array.isArray(t))return 0;let e=1;return t.forEach(r=>{Array.isArray(r)&&(e=Math.max(e,yu(r)+1))}),e}var gu=R.extend({"x-error":h.string().url(),"x-success":h.string().url()}),lm=R.extend({file:Yn}),Fu=R.extend({file:Yn}),cm=R.extend({file:Yn,"new-filename":di,silent:G}),wu={"/file":[se(),{path:"/list",schema:gu,handler:dm},{path:"/get-active",schema:gu,handler:fm},{path:"/open",schema:lm,handler:mm},{path:"/delete",schema:Fu,handler:pm},{path:"/trash",schema:Fu,handler:hm},{path:"/rename",schema:cm,handler:Dm}]};async function dm(t){return y({paths:this.app.vault.getFiles().map(e=>e.path).sort()})}async function fm(t){let e=this.app.workspace.getActiveFile();return e?y({filepath:e.path}):O(404,"No active file")}async function mm(t){let{file:e}=t,r=await zn(e.path);return r.isSuccess?y({message:C.file_opened},e.path):r}async function pm(t){let{file:e}=t,r=await qe(e.path,!0);return r.isSuccess?y({message:r.result},e.path):r}async function hm(t){let{file:e}=t,r=await qe(e.path);return r.isSuccess?y({message:r.result},e.path):r}async function Dm(t){let{file:e}=t,r=await _r(e.path,t["new-filename"]);return r.isSuccess?y({message:r.result},e.path):r}var bu=require("obsidian");var ym=R.extend({"x-error":h.string().url(),"x-success":h.string().url()}),gm=R.extend({folder:Rs}),vu=R.extend({folder:Ms}),Fm=R.extend({folder:Ms,"new-foldername":Rs}),Pu={"/folder":[se(),{path:"/list",schema:ym,handler:wm},{path:"/create",schema:gm,handler:vm},{path:"/rename",schema:Fm,handler:bm},{path:"/delete",schema:vu,handler:Pm},{path:"/trash",schema:vu,handler:_m}]};async function wm(t){return y({paths:ui().filter(e=>e instanceof bu.TFolder).map(e=>e.path.endsWith("/")?e.path:`${e.path}/`).sort()})}async function vm(t){let{folder:e}=t;return await qn(e),y({message:C.folder_created},e)}async function bm(t){let{folder:e}=t,r=await _r(e.path,t["new-foldername"]);return r.isSuccess?y({message:r.result},e.path):r}async function Pm(t){let{folder:e}=t,r=await qe(e.path,!0);return r.isSuccess?y({message:r.result},e.path):r}async function _m(t){let{folder:e}=t,r=await qe(e.path);return r.isSuccess?y({message:r.result},e.path):r}var gs=require("obsidian");var ys={pluginVersion:"1.6.5",pluginReleasedAt:"2024-10-09T13:17:57+0200"};var Em=R.extend({"x-error":h.string().url(),"x-success":h.string().url()}),_u={"/info":[{path:"/",schema:Em,handler:xm}]};async function xm(t){let e=navigator.userAgent.match(/\((.+?)\)/),r=e?e[1]:"unknown",{isAndroidApp:n,isDesktopApp:s,isIosApp:a,isMacOS:i}=gs.Platform,o="";return s&&i?o="macOS":s?o="Windows/Linux":a?o="iOS":n&&(o="Android"),y({...ys,apiVersion:gs.apiVersion,nodeVersion:window.process?.version?.replace(/^v/,"")||"N/A",platform:o,os:r})}var Au=require("obsidian");var Eu=require("obsidian");function jr(t,e,r=!1){let n=t;if(["file","uid","periodic-note"].filter(l=>l in n).length!==1)return e.addIssue({code:h.ZodIssueCode.custom,message:C.faulty_note_targeting}),h.NEVER;let a,i="";if("file"in n){let l=n["file"];a="file",i=l}else if("uid"in n){let l=n["uid"];a="uid";let c=Cm(l);i=c.isSuccess?c.result:""}else if(n["periodic-note"]){let l=n["periodic-note"];a="periodic-note";let c=l.replace(/^recent-/,""),m=l.startsWith("recent-");if(!At(c))return e.addIssue({code:h.ZodIssueCode.custom,message:C[`${c}_note`].feature_not_available}),h.NEVER;if(m){let F=ln(c);i=F.isSuccess?F.result:""}else i=Ai(c)}let o;if(i!=""){let l=ot(i);l&&(o=l)}return!o&&r?(e.addIssue({code:h.ZodIssueCode.custom,message:C.note_not_found,path:[i]}),h.NEVER):Ca(t,{inputKey:a,inputPath:i,inputFile:o})}function tt(t,e){return jr(t,e,!0)}function Ca(t,e){return{...t,_resolved:{...t._resolved||{},...e}}}function Cm(t){let e=q().app.vault.getMarkdownFiles().find(r=>[(0,Eu.parseFrontMatterEntry)(q().app.metadataCache.getFileCache(r)?.frontmatter,q().settings.frontmatterKey)].flat().map(s=>`${s}`).includes(t))?.path;return e?y(e):O(404,C.note_not_found)}var xu=(n=>(n.Default="",n.Overwrite="overwrite",n.Skip="skip",n))(xu||{}),Ta=h.nativeEnum(xu).optional(),Sm=R.extend({file:h.string(),apply:h.literal("content").optional().default("content"),content:h.string().optional(),"if-exists":Ta,silent:G}),Nm=R.extend({file:h.string(),apply:h.enum(["templater","templates"]),"template-file":h.string(),"if-exists":Ta,silent:G}).transform(Om),km=R.extend({"periodic-note":h.nativeEnum(wt),"if-exists":Ta,silent:G}),Cu=h.union([Sm,Nm,km]).transform(jr);async function Tu(t){let{_resolved:{inputPath:e},["if-exists"]:r,["periodic-note"]:n,silent:s}=t,a=!s;if((await Be(e)).isSuccess)switch(r){case"skip":return a&&await ee(e),await me(e);case"overwrite":await qe(e);break;default:return O(409,C[`${n}_note`].create_note_already_exists)}return await vt(n)?(a&&await ee(e),await me(e)):O(400,C.unable_to_write_note)}async function Su(t){let{_resolved:{inputPath:e},["if-exists"]:r,content:n,silent:s}=t,a=!s,i;if((await Be(e)).isSuccess)switch(r){case"skip":return a&&await ee(e),await me(e);case"overwrite":i=await Ot(e,"");break;default:i=await kt(e,"");break}else i=await kt(e,"");if(!i?.isSuccess)return i;let l=i.result;return await this.app.vault.modify(l,n||""),a&&await ee(l.path),await me(l.path)}async function Nu(t){let{_resolved:{inputPath:e,templateFile:r},["if-exists"]:n,apply:s,silent:a}=t,i=!a,o;if((await Be(e)).isSuccess)switch(n){case"skip":return i&&await ee(e),await me(e);case"overwrite":o=await Ot(e,"");break;default:o=await kt(e,"");break}else o=await kt(e,"");if(!o?.isSuccess)return o;let c=o.result;switch(s){case"templater":let m=Ft("templater-obsidian");if(!m.isSuccess)return m;await m.result.templater.write_template_to_file(r,c);break;case"templates":let w=We("templates");if(!w.isSuccess)return w;await Zn(r,c);break}return i&&await ee(c.path),await me(c.path)}function Om(t,e){let{"template-file":r,apply:n}=t,s="";switch(n){case"templater":let o=Ft("templater-obsidian");if(!o.isSuccess)return e.addIssue({code:h.ZodIssueCode.custom,message:C.templater.feature_not_available}),h.NEVER;s=o.result.settings?.templates_folder||"";break;case"templates":let l=We("templates");if(!l.isSuccess)return e.addIssue({code:h.ZodIssueCode.custom,message:C.templates.feature_not_available}),h.NEVER;s=l.result.options?.folder||"";break;default:return e.addIssue({code:h.ZodIssueCode.custom,message:C.faulty_apply_parameter}),h.NEVER}let{vault:a}=q().app,i=a.getFileByPath(ge(`${s}/${r}`))||a.getFileByPath(ge(r));return i?Ca(t,{templatePath:i.path,templateFile:i}):(e.addIssue({code:h.ZodIssueCode.custom,message:C.template_not_found}),h.NEVER)}var Sa=(n=>(n.Error="error",n.AddHeadline="add-headline",n.Skip="skip",n))(Sa||{}),Am=R.extend({"periodic-note":h.nativeEnum(wt).optional(),"x-error":h.string().url(),"x-success":h.string().url()}),Rm=R.merge(Ws).extend({silent:G,"x-error":h.string().url(),"x-success":h.string().url()}).transform(tt),Mm=R.extend({"x-error":h.string().url(),"x-success":h.string().url()}),Im=R.extend({file:Cr,"sort-by":h.enum(["best-guess","path-asc","path-desc","ctime-asc","ctime-desc","mtime-asc","mtime-desc",""]).optional(),"x-error":h.string().url(),"x-success":h.string().url()}),Bm=R.merge(Ws).transform(tt),Lm=R.merge(Ge).extend({content:h.string(),silent:G,"below-headline":h.string().optional(),"create-if-not-found":G,"ensure-newline":G,"if-headline-missing":h.nativeEnum(Sa).optional().default("error")}).transform(jr),Hm=R.merge(Ge).extend({content:h.string(),silent:G,"below-headline":h.string().optional(),"create-if-not-found":G,"ensure-headline":G,"ensure-newline":G,"if-headline-missing":h.nativeEnum(Sa).optional().default("error"),"ignore-front-matter":G}).transform(jr),jm=R.merge(Ge).extend({silent:G}).transform(tt),ku=R.merge(Ge).extend({silent:G,search:h.string().min(1,{message:"can't be empty"}),replace:h.string()}).transform(tt),Ou=R.merge(Ge).transform(tt),zm=R.merge(Ge).extend({"new-filename":Cr,silent:G}).transform(tt),Ru={"/note":[se(),{path:"/list",schema:Am,handler:Vm},{path:"/get",schema:Rm,handler:$m},{path:"/get-first-named",schema:Im,handler:Wm},{path:"/get-active",schema:Mm,handler:Um},{path:"/open",schema:Bm,handler:Zm},{path:"/create",schema:Cu,handler:qm},{path:"/append",schema:Lm,handler:Ym},{path:"/prepend",schema:Hm,handler:Gm},{path:"/touch",schema:jm,handler:Jm},{path:"/delete",schema:Ou,handler:Xm},{path:"/trash",schema:Ou,handler:ep},{path:"/rename",schema:zm,handler:tp},{path:"/search-string-and-replace",schema:ku,handler:Qm},{path:"/search-regex-and-replace",schema:ku,handler:Km}]};async function Vm(t){let{"periodic-note":e}=t;if(!e)return y({paths:this.app.vault.getMarkdownFiles().map(n=>n.path).sort()});if(!At(e))return O(424,C[`${e}_note`].feature_not_available);let r=cn(e);return y({paths:Object.keys(r).sort().reverse().map(n=>r[n].path)})}async function $m(t){let{_resolved:{inputPath:e},silent:r}=t,n=await me(e);return n.isSuccess&&!r&&await ee(e),n}async function Um(t){let e=this.app.workspace.getActiveFile();if(e?.extension!=="md")return O(404,"No active note");let r=await me(e.path);if(!r.isSuccess)return O(404,"No active note");let n=this.app.workspace.getActiveViewOfType(Au.MarkdownView),s=n?n.currentMode.getSelection():void 0;return s?y({...r.result,selection:s}):r}async function Wm(t){let{file:e}=t,r=t["sort-by"]||"best-guess";if(r==="best-guess"){let a=this.app.metadataCache.getFirstLinkpathDest(ge(e),"/");return a?await me(a.path):O(404,"No note found with that name")}let n={"path-asc":(a,i)=>a.path.localeCompare(i.path),"path-desc":(a,i)=>i.path.localeCompare(a.path),"ctime-asc":(a,i)=>a.stat.ctime-i.stat.ctime,"ctime-desc":(a,i)=>i.stat.ctime-a.stat.ctime,"mtime-asc":(a,i)=>a.stat.mtime-i.stat.mtime,"mtime-desc":(a,i)=>i.stat.mtime-a.stat.mtime},s=this.app.vault.getMarkdownFiles().sort(n[r]).find(a=>a.name===e);return s?await me(s.path):O(404,"No note found with that name")}async function Zm(t){let{_resolved:{inputPath:e}}=t,r=await Be(e);return r.isSuccess?y({message:C.note_opened},r.result.path):r}async function qm(t){let{_resolved:{inputKey:e}}=t;if(e==="periodic-note")return Tu.bind(this)(t);switch(t.apply){case"content":return Su.bind(this)(t);case"templater":case"templates":return Nu.bind(this)(t)}}async function Ym(t){let{_resolved:{inputKey:e,inputFile:r,inputPath:n},["below-headline"]:s,["create-if-not-found"]:a,["ensure-newline"]:i,["if-headline-missing"]:o,["periodic-note"]:l,content:c,silent:m,uid:w}=t,F=!r&&e==="uid"&&a?w:n;async function g(){if(s){let L=await Mu(F,s,o);return L.isSuccess?await $n(F,s,c):L}return await en(F,c,i)}if(!r){if(!a)return O(404,C.note_not_found);if(e==="periodic-note"){if(!await vt(l))return O(400,C.unable_to_write_note)}else{let L=await kt(F,"");if(!L.isSuccess)return L;e==="uid"&&await this.app.fileManager.processFrontMatter(L.result,j=>j[this.settings.frontmatterKey]=w)}}let x=await g();return x.isSuccess?(m||await ee(F),y({message:x.result},F)):x}async function Gm(t){let{_resolved:{inputKey:e,inputFile:r,inputPath:n},["below-headline"]:s,["create-if-not-found"]:a,["ensure-newline"]:i,["ignore-front-matter"]:o,["if-headline-missing"]:l,["periodic-note"]:c,content:m,silent:w,uid:F}=t,g=!r&&e==="uid"&&a?F:n;async function x(){if(s&&s){let j=await Mu(g,s,l);return j.isSuccess?await Wn(g,s,m,i):j}return await Un(g,m,i,o)}if(!r){if(!a)return O(404,C.note_not_found);if(e==="periodic-note"){if(!await vt(c))return O(400,C.unable_to_write_note)}else{let j=await kt(g,"");if(!j.isSuccess)return j;e==="uid"&&await this.app.fileManager.processFrontMatter(j.result,Q=>Q[this.settings.frontmatterKey]=F)}}let L=await x();return L.isSuccess?(w||await ee(g),y({message:L.result},g)):L}async function Jm(t){let{_resolved:{inputPath:e},silent:r}=t,n=await oi(e);return n.isSuccess?(r||await ee(e),y({message:C.touch_done},e)):n}async function Qm(t){let{_resolved:{inputPath:e},search:r,replace:n,silent:s}=t,a=await Pr(e,r,n);return a.isSuccess?(s||await ee(e),y({message:a.result},e)):a}async function Km(t){let{_resolved:{inputPath:e},search:r,replace:n,silent:s}=t,a=jn(r);if(!a.isSuccess)return a;let i=await Pr(e,a.result,n);return i.isSuccess?(s||await ee(e),y({message:i.result},e)):i}async function Xm(t){let{_resolved:{inputPath:e}}=t,r=await qe(e,!0);return r.isSuccess?y({message:r.result},e):r}async function ep(t){let{_resolved:{inputPath:e}}=t,r=await qe(e);return r.isSuccess?y({message:r.result},e):r}async function tp(t){let{_resolved:{inputPath:e},["new-filename"]:r}=t,n=await _r(e,r);return n.isSuccess?y({message:n.result},e):n}async function Mu(t,e,r){let n=await br(t);if(!n.isSuccess)return n;let s=e.trim();if(new RegExp(`^${Kr(s)}\\s*$`,"m").test(n.result))return y("Note contains headline");switch(r){case"add-headline":return await en(t,`
${s}`,!0);case"skip":return y(C.headline_not_found);case"error":return O(404,C.headline_not_found)}}var Bu=require("obsidian");var Iu=R.merge(Ge).extend({silent:G,"x-error":h.string().url(),"x-success":h.string().url()}).transform(tt),rp=R.merge(Ge).extend({properties:mi,mode:h.enum(["overwrite","update"]).optional()}).transform(tt),np=R.merge(Ge).extend({keys:fi}).transform(tt),Lu={"/note-properties":[se(),{path:"/get",schema:Iu,handler:sp},{path:"/set",schema:rp,handler:ap},{path:"/clear",schema:Iu,handler:ip},{path:"/remove-keys",schema:np,handler:op}]};async function sp(t){let{_resolved:{inputFile:e}}=t;return y({properties:Er(e)},e?.path)}async function ap(t){let{_resolved:{inputFile:e},mode:r,properties:n}=t,s=r==="update"?{...Er(e),...n}:n;return Vn(e.path,Hu(s))}async function ip(t){let{_resolved:{inputPath:e}}=t;return Vn(e,"")}async function op(t){let{_resolved:{inputPath:e,inputFile:r},keys:n}=t,s=Er(r);return n.forEach(a=>delete s[a]),Vn(e,Hu(s))}function Hu(t){return Object.keys(t).length>0?(0,Bu.stringifyYaml)(t).trim():""}async function ju(t){let e=We("global-search");if(!e.isSuccess)return O(424,C.global_search_feature_not_available);e.result.openGlobalSearch(t);let n=q().app.workspace.getLeavesOfType("search")[0],s=await n.open(n.view);await Ze(2e3);let a=s.dom.resultDomLookup,i=Array.from(a.keys()).map(o=>o.path);return y({hits:i})}async function zu(t){let e=Ft("omnisearch");if(!e.isSuccess)return O(424,C.omnisearch_plugin_not_available);let s=(await e.result.api.search(t)).map(a=>a.path);return y({hits:s})}var up=R.extend({query:h.string().min(1,{message:"can't be empty"}),"x-error":h.string().url(),"x-success":h.string().url()}),lp=R.extend({query:h.string().min(1,{message:"can't be empty"})}),Vu={"/omnisearch":[se(),{path:"/all-notes",schema:up,handler:cp},{path:"/open",schema:lp,handler:dp}]};async function cp(t){let e=await zu(t.query);return e.isSuccess?y(e.result):e}async function dp(t){return window.open("obsidian://omnisearch?vault="+encodeURIComponent(this.app.vault.getName())+"&query="+encodeURIComponent(t.query.trim())),y({message:"Opened search"})}var En=require("obsidian");var fp=R.extend({"x-error":h.string().url(),"x-success":h.string().url()}),$u=R.extend({silent:G,"x-error":h.string().url(),"x-success":h.string().url()}),Uu=R,_n=R.extend({"if-exists":h.enum(["overwrite","skip",""]).optional(),silent:G}),mp=h.discriminatedUnion("apply",[_n.extend({apply:h.literal("content"),content:h.string().optional()}),_n.extend({apply:h.literal("templater"),"template-file":hi}),_n.extend({apply:h.literal("templates"),"template-file":Di}),_n.extend({apply:gi("content"),content:h.string().optional()}),_n.extend({apply:yi("content"),content:h.string().optional()})]),jy=R.extend({content:h.string().optional(),silent:G}),pp=R.extend({content:h.string(),silent:G,"below-headline":h.string().optional(),"create-if-not-found":G,"ensure-newline":G}),hp=R.extend({content:h.string(),silent:G,"below-headline":h.string().optional(),"create-if-not-found":G,"ensure-newline":G,"ignore-front-matter":G}),Wu=R.extend({silent:G,search:h.string().min(1,{message:"can't be empty"}),replace:h.string()}),Zu={};for(let t of Object.values(wt))Zu[`${t}-note`]=[se(),{path:"/list",schema:fp,handler:Dp(t)},{path:"/get-current",schema:$u,handler:yp(t)},{path:"/get-most-recent",schema:$u,handler:gp(t)},{path:"/open-current",schema:Uu,handler:Fp(t)},{path:"/open-most-recent",schema:Uu,handler:wp(t)},{path:"/create",schema:mp,handler:vp(t)},{path:"/append",schema:pp,handler:bp(t)},{path:"/prepend",schema:hp,handler:Pp(t)},{path:"/search-string-and-replace",schema:Wu,handler:_p(t)},{path:"/search-regex-and-replace",schema:Wu,handler:Ep(t)}];var qu=Zu;function Dp(t){return async function(r){if(!At(t))return O(424,C[`${t}_note`].feature_not_available);let n=cn(t);return y({paths:Object.keys(n).sort().reverse().map(s=>n[s].path)})}}function yp(t){return async function(r){let{silent:n}=r,s=!n,a=tr(t);if(!a.isSuccess)return a;let i=a.result;return s&&await ee(i),await me(i)}}function gp(t){return async function(r){let{silent:n}=r,s=!n,a=ln(t);if(!a.isSuccess)return a;let i=a.result;return s&&await ee(i),await me(i)}}function Fp(t){return async function(r){let n=tr(t);return n.isSuccess?y({message:C.note_opened},n.result):n}}function wp(t){return async function(r){let n=await ln(t);return n.isSuccess?y({message:C.note_opened},n.result):n}}function vp(t){return async function(r){let n=r,{apply:s,silent:a}=n,i=n["if-exists"],o=!a,l=s==="templater"||s==="templates"?n["template-file"]:void 0,c=s==="content"&&n.content||"",m;if(!At(t))return O(424,C[`${t}_note`].feature_not_available);if(s==="templater"){let x=Ft("templater-obsidian");if(!x.isSuccess)return x;m=x.result.templater}else if(s==="templates"){let x=We("templates");if(!x.isSuccess)return x;m=x.result}let w=Us(t);if(w instanceof En.TFile)switch(i){case"skip":return o&&await ee(w.path),await me(w.path);case"overwrite":await this.app.vault.trash(w,!1);break;default:return O(409,C[`${t}_note`].create_note_already_exists)}let F=await vt(t);if(!(F instanceof En.TFile))return O(400,C.unable_to_write_note);let g=F.path;switch(await Ze(200),s){case"content":c!==""&&await Ot(g,c);break;case"templater":await m.write_template_to_file(l,F);break;case"templates":await Zn(l,F);break}return o&&await ee(g),await me(g)}}function bp(t){return async function(r){let n=r,{content:s,silent:a}=n,i=n["below-headline"],o=n["create-if-not-found"],l=n["ensure-newline"],c=!a;async function m(g){return i?await $n(g,i,s):await en(g,s,l)}let w=tr(t);if(w.isSuccess){let g=w.result,x=await m(g);return x.isSuccess?(c&&await ee(g),y({message:x.result},g)):x}if(w.errorCode!==404||!o)return w;let F=await vt(t);if(F instanceof En.TFile){let g=await m(F.path);return g.isSuccess?(c&&await ee(F.path),y({message:g.result},F.path)):g}return O(400,C.unable_to_write_note)}}function Pp(t){return async function(r){let n=r,{content:s,silent:a}=n,i=n["below-headline"],o=n["create-if-not-found"],l=n["ensure-newline"],c=!a,m=n["ignore-front-matter"];async function w(x){return i?await Wn(x,i,s,l):await Un(x,s,l,m)}let F=tr(t);if(F.isSuccess){let x=F.result,L=await w(x);return L.isSuccess?(c&&await ee(x),y({message:L.result},x)):L}if(F.errorCode!==404||!o)return F;let g=await vt(t);if(g instanceof En.TFile){let x=await w(g.path);return x.isSuccess?(c&&await ee(g.path),y({message:x.result},g.path)):x}return O(400,C.unable_to_write_note)}}function _p(t){return async function(r){let{search:n,replace:s,silent:a}=r,i=!a,o=tr(t);if(!o.isSuccess)return o;let l=o.result,c=await Pr(l,n,s);return c.isSuccess?(i&&await ee(l),y({message:c.result},l)):c}}function Ep(t){return async function(r){let{search:n,replace:s,silent:a}=r,i=!a,o=tr(t);if(!o.isSuccess)return o;let l=o.result,c=jn(n);if(!c.isSuccess)return c;let m=await Pr(l,c.result,s);return m.isSuccess?(i&&await ee(l),y({message:m.result},l)):m}}var Yu={"/":[se()]};var xp=R.extend({query:h.string().min(1,{message:"can't be empty"}),"x-error":h.string().url(),"x-success":h.string().url()}),Cp=R.extend({query:h.string().min(1,{message:"can't be empty"})}),Gu={"/search":[se(),{path:"/all-notes",schema:xp,handler:Tp},{path:"/open",schema:Cp,handler:Sp}]};async function Tp(t){let e=await ju(t.query);return e.isSuccess?y(e.result):e}async function Sp(t){return window.open("obsidian://search?vault="+encodeURIComponent(this.app.vault.getName())+"&query="+encodeURIComponent(t.query.trim())),y({message:"Opened search"})}var Np=R,Ju={"/settings":[se(),{path:"/open",schema:Np,handler:kp}]};async function kp(t){let e=this.app.setting;return e.open(),e.openTabById(this.manifest.id),y({message:"Opened settings UI"})}var Qu=require("obsidian");var Na=R.extend({"x-error":h.string().url(),"x-success":h.string().url()}),Ku={"/vault":[se(),{path:"/open",schema:R,handler:Op},{path:"/close",schema:R,handler:Ap},{path:"/info",schema:Na,handler:Rp},{path:"/list-all-files",schema:Na,handler:Mp},{path:"/list-non-notes-files",schema:Na,handler:Ip}]};async function Op(t){return y({})}async function Ap(t){return Qu.Platform.isMobileApp?O(424,C.not_available_on_mobile):(window.setTimeout(window.close,600),y({}))}async function Rp(t){let{vault:e}=this.app,{config:r}=e,n=e.adapter.basePath;return!r||!n?O(404,C.vault_internals_not_found):y({basePath:n,attachmentFolderPath:`${n}/${r.attachmentFolderPath}`.replace(/\/$/,""),newFileFolderPath:r.newFileLocation==="folder"?`${n}/${r.newFileFolderPath}`.replace(/\/$/,""):n})}async function Mp(t){return y({paths:this.app.vault.getFiles().map(e=>e.path).sort()})}async function Ip(t){let{vault:e}=this.app,r=e.getFiles().map(s=>s.path),n=e.getMarkdownFiles().map(s=>s.path);return y({paths:r.filter(s=>!n.includes(s)).sort()})}var Bp=R.extend({"x-error":h.string().url(),"x-success":h.string().url()}),Xu={"/tags":[se(),{path:"/list",schema:Bp,handler:Lp}]};async function Lp(t){return y({tags:Object.keys(this.app.metadataCache.getTags()).sort((e,r)=>e.localeCompare(r))})}var el={...Yu,...Ri,...hu,...wu,...Pu,..._u,...Lu,...Ru,...Vu,...qu,...Gu,...Ju,...Xu,...Ku};var zr=require("obsidian"),Fs=class extends zr.PluginSettingTab{plugin;constructor(e,r){super(e,r),this.plugin=r}display(){let{containerEl:e,plugin:r,plugin:{settings:n,defaultSettings:s}}=this,a=(0,zr.debounce)(async o=>{n.frontmatterKey=o.trim()||s.frontmatterKey,await r.saveSettings()},400);e.empty(),e.createEl("h2",{text:"Actions URI Settings"}),new zr.Setting(e).setName("UID frontmatter key").setDesc(`
        Actions URI is able to find notes by their UID.
        This unique identifier is stored in the note's frontmatter.
        The plugin needs to know under which frontmatter key it can find the UID. (Default: "uid".)
      `).addText(o=>{o.setPlaceholder(s.frontmatterKey).setValue(n.frontmatterKey).onChange(a)});let i="https://actions.work/actions-for-obsidian?ref=plugin-actions-uri";e.createEl("div",{attr:{style:`
          border-radius: 0.5rem;
          border: 1px dashed var(--text-muted);
          color: var(--text-muted);
          display: grid;
          font-size: 85%;
          grid-gap: 1rem;
          grid-template-columns: auto 1fr;
          margin-top: 4rem;
          opacity: 0.75;
          padding: 1rem;
        `}}).innerHTML=`
        <a href="${i}">
          <img
            src="https://actions.work/img/afo-icon.png"
            style="margin: -0.4rem -0.5rem -0.5rem 0; width: 5rem;"
            alt="Actions for Obsidian icon, a cog wheel on a glossy black background">
        </a>
        <span>
          Actions URI is brought to you by
          <a href="${i}"><strong>Actions for Obsidian</strong></a>,
          a macOS/iOS app made by the same developer as this plugin. AFO is the
          missing link between Obsidian and macOS&nbsp;/&nbsp;iOS: 50+ Shortcuts
          actions to bring your notes and your automations together.
          <a href="${i}">Take a look!</a>
        </span>
      `}};function tl(t,e){let r={};if(Array.isArray(e))for(let n of e){let s=Object.getOwnPropertyDescriptor(t,n);s?.enumerable&&Object.defineProperty(r,n,s)}else for(let n of Reflect.ownKeys(t)){let s=Object.getOwnPropertyDescriptor(t,n);if(s.enumerable){let a=t[n];e(n,a,t)&&Object.defineProperty(r,n,s)}}return r}function rl(t,e){if(Array.isArray(e)){let r=new Set(e);return tl(t,n=>!r.has(n))}return tl(t,(r,n,s)=>!e(r,n,s))}var sl=require("obsidian");function xn(t,e,r){let n=new URL(t);if(e.isSuccess)nl(e.result,n);else{let{errorCode:i,errorMessage:o}=e;n.searchParams.set("errorCode",i.toString()),n.searchParams.set("errorMessage",o)}r["x-source"]?.toLowerCase()==="actions for obsidian"&&n.searchParams.set("pv",ys.pluginVersion);let s=r["debug-mode"]?rl(r,["debug-mode","x-success","x-error","_computed"]):{};nl(s,n,"input");let a=n.toString().replace(/\+/g,"%20");return window.open(a),y(a)}function nl(t,e,r=Wa){let n=Object.keys(t).sort();for(let s of n){if(!Object.prototype.hasOwnProperty.call(t,s))continue;let a;typeof t[s]=="string"?a=t[s]:t[s]instanceof sl.TAbstractFile?a=t[s].path:a=JSON.stringify(t[s]),e.searchParams.set(ii(`${r}-${s}`),a)}}var ws=class extends Vr.Plugin{settings;defaultSettings={frontmatterKey:"uid"};async onload(){q(this),await this.loadSettings(),this.registerRoutes(el),this.addSettingTab(new Fs(this.app,this))}onunload(){}async loadSettings(){this.settings={...this.defaultSettings,...await this.loadData()}}async saveSettings(){await this.saveData(this.settings)}registerRoutes(e){let r=[];for(let[n,s]of Object.entries(e))for(let a of s){let{path:i,schema:o,handler:l}=a,c=(0,Vr.normalizePath)(`${Ua}/${n}/${i}`).replace(/\/$/,"");this.registerObsidianProtocolHandler(c,async m=>{let w=await o.safeParseAsync(m);w.success?await this.handleIncomingCall(l,w.data):this.handleParseError(w.error,m)}),r.push(c)}As("Registered URI handlers:",r)}async handleIncomingCall(e,r){let n;try{n=await e.bind(this)(r)}catch(a){let i=`Handler error: ${a.message}`;n=O(500,i),er(i),Xr(i)}let s={params:this.prepParamsForConsole(r),handlerResult:n,sendCallbackResult:this.sendUrlCallbackIfNeeded(n,r),openResult:await this.openFileIfNeeded(n,r)};return As("Call handled:",s),s}prepParamsForConsole(e){let r={...e};return Object.keys(e).forEach(n=>{let s=e[n];r[n]=s instanceof Vr.TAbstractFile?s.path:s}),r}handleParseError(e,r){let n=["Incoming call failed",e.errors.map(i=>{let o=i.message.replace(/^.+(Expected )/g,"$1");return i.path.length>0?`- ${i.path.join(".")}: ${o}`:`- ${o}`})].flat().join(`
`);if(er(n),Xr(n),!r["x-error"])return;let s=e.errors.find(i=>i.message===C.note_not_found);if(s){xn(r["x-error"],O(404,`[Not found] ${s.path.join(", ")}`),r);return}let a="[Bad request] "+e.errors.map(i=>i.path.length>0?`${i.path.join(", ")}: ${i.message}`:i.message).join("; ");xn(r["x-error"],O(500,a),r)}sendUrlCallbackIfNeeded(e,r){return e.isSuccess?r["x-success"]?xn(r["x-success"],e,r):y("No `x-error` callback URL provided"):r["x-error"]?xn(r["x-error"],e,r):y("No `x-error` callback URL provided")}async openFileIfNeeded(e,r){if(!e.isSuccess)return y("No file to open, the handler failed");if(r.silent)return y("No file to open, the `silent` parameter was set");let{processedFilepath:n}=e;return n?await ee(n):y("No file to open, handler didn't return a `processedFilepath` property")}};
